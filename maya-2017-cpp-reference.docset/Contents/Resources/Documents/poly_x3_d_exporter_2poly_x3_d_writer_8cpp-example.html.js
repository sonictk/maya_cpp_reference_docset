var topic = "<!-- saved from url=(0024)http://docs.autodesk.com -->\n\
<html>\n\
   <head><script src=\"../scripts/yepnope.1.5.4-min.js\" type=\"text/javascript\"></script><script src=\"../scripts/lib/jquery-1.11.1.min.js\" type=\"text/javascript\"></script><meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"><meta name=\"product\" content=\"MAYAUL\"><meta name=\"release\" content=\"2017\"><meta name=\"book\" content=\"Developer\"><meta name=\"created\" content=\"2016-06-16\"><meta name=\"topicid\" content=\"GUID-02DEF634-1E7B-48C6-8ACD-2C934CA97887\"><meta name=\"topic-type\" content=\"concept\">\n\
      <title>polyX3DExporter/polyX3DWriter.cpp</title>\n\
   \n\
\n\
<meta name=\"topic-subtype\" content=\"C++\"></head>\n\
   <body height=\"100%\"><div class=\"body_content\" id=\"body-content\"><link rel=\"stylesheet\" type=\"text/css\" href=\"cpp_ref/navtree.css\"><link rel=\"stylesheet\" type=\"text/css\" href=\"cpp_ref/doxygen.css\"><link rel=\"stylesheet\" type=\"text/css\" href=\"cpp_ref/tabs.css\"><link rel=\"stylesheet\" type=\"text/css\" href=\"style/adsk.cpm.css\"><script language=\"javascript\">var index = \'index.html\';</script><script>$(document).ready(function() { yepnope.injectJs(\"./scripts/ac_common.js\"); });</script><script type=\"text/javascript\">\n\
var tocSystemNeedsToBeLoaded = typeof(cpp_ref_adsk_ref_toc) == \'undefined\';\n\
var weAreIn21 = $(\'div#main.view-active\').length;\n\
var tocPrefix = \'\';\n\
if (weAreIn21)\n\
{ tocPrefix = \'cpp_ref/\'; }\n\
function cpp_ref_initializeToc(forceTrigger) {\n\
    cpp_ref_adsk_ref_toc.initResizable();\n\
    cpp_ref_adsk_ref_toc.initNavTree(\'poly_x3_d_exporter_2poly_x3_d_writer_8cpp-example.html\', tocPrefix);\n\
    dQuery(document).trigger(\'toc_initialized\');\n\
}\n\
if (tocSystemNeedsToBeLoaded)\n\
{\n\
	yepnope([{\n\
	load:[tocPrefix + \'json3.min.js\', tocPrefix + \'jquery.js\', tocPrefix + \'ref-toc-controller.js\', tocPrefix + \'dynsections.js\'],\n\
	complete: function() {\n\
	  if (typeof(dQuery) == \'undefined\')\n\
	  {\n\
	    dQuery = jQuery.noConflict(true);\n\
	  }\n\
	  else { jQuery.noConflict(true); }\n\
	  $(document).ready(cpp_ref_initializeToc);\n\
	}\n\
 	}])\n\
}\n\
if (!weAreIn21) { // if in AKN...\n\
$(window).load( function() {\n\
    setTimeout( function() {\n\
        var content = $(\'body > div\').not(\'#body-content\');     // take any divs under body that are not id=body-content\n\
        content.each( function() { \n\
            $(this).css( { \'padding-left\': $(this).css(\'margin-left\') } );       // and if they have any padding-left already, move it to margin-left.\n\
        } );\n\
        var width = cpp_ref_adsk_ref_toc.readFromStorage(\'width\');\n\
        content.css({marginLeft:parseInt(width)+6+\"px\"});\n\
    }, 100);\n\
} ); \n\
}\n\
</script><script>$(\"div#WidgetFloaterPanels,link[href*=\'microsofttranslator.com\'],script[src*=\'microsofttranslator.com\'],script[src*=\'bing.com\']\").remove();</script><script type=\'text/javascript\'>$(\"div#navigation,div#breadcrumbs,div#banner\").attr(\"translate\",\"no\"); var mtLocation = ((location && location.href && location.href.indexOf(\'https\') == 0)?\'https://ssl.microsofttranslator.com\':\'http://www.microsofttranslator.com\')+\'/ajax/v3/WidgetV3.ashx?ctf=True&ui=true&settings=Manual&from=en&hidelanguages=\'; yepnope.injectJs(mtLocation, function() {}, { charset:\'utf-8\', type:\'text/javascript\' } );</script><script>\n\
 if (!tocSystemNeedsToBeLoaded) { cpp_ref_initializeToc(); }\n\
 </script><!-- begin MT -->\n\
            \n\
            <div id=\'MicrosoftTranslatorWidget\' class=\'Dark\' style=\'float:right;z-index:100;color:white;background-color:#bbbbbb;height:58px;overflow:hidden\'></div>\n\
      <div>\n\
         <div class=\"head\">\n\
            <h1>polyX3DExporter/polyX3DWriter.cpp</h1>\n\
         </div>\n\
\n\
    <div id=\"top\"><!-- Generated by Doxygen 1.8.10 -->\n\
  <div id=\"navrow1\" class=\"tabs\">\n\
    <ul class=\"tablist\">\n\
      <li><a href=\"#!/url=./cpp_ref/index.html\"><span>Main&#160;Page</span></a></li>\n\
      <li><a href=\"#!/url=./cpp_ref/pages.html\"><span>Topics</span></a></li>\n\
      <li><a href=\"#!/url=./cpp_ref/modules.html\"><span>Modules</span></a></li>\n\
      <li><a href=\"#!/url=./cpp_ref/namespaces.html\"><span>Namespaces</span></a></li>\n\
      <li><a href=\"#!/url=./cpp_ref/annotated.html\"><span>Classes</span></a></li>\n\
      <li><a href=\"#!/url=./cpp_ref/examples.html\"><span>Examples</span></a></li>\n\
    </ul>\n\
  </div>\n\
</div><!-- top -->\n\
<div id=\"side-nav\" class=\"ui-resizable side-nav-resizable\">\n\
  <div id=\"nav-tree\">\n\
    <div id=\"nav-tree-contents\">\n\
      <div id=\"nav-sync\" class=\"sync\"></div>\n\
    </div>\n\
  </div>\n\
  <div id=\"splitbar\" style=\"-moz-user-select:none;\" class=\"ui-resizable-handle\">\n\
  </div>\n\
</div>\n\
\n\
<div id=\"doc-content\">\n\
<div class=\"header\">\n\
  <div class=\"headertitle\">\n\
<div class=\"title\">polyX3DExporter/polyX3DWriter.cpp</div>  </div>\n\
</div><!--header-->\n\
<div class=\"contents\">\n\
<div class=\"fragment\"><div class=\"line\"><span class=\"comment\">//-</span></div>\n\
<div class=\"line\"><span class=\"comment\">// ==========================================================================</span></div>\n\
<div class=\"line\"><span class=\"comment\">// Copyright 1995,2006,2008 Autodesk, Inc. All rights reserved.</span></div>\n\
<div class=\"line\"><span class=\"comment\">//</span></div>\n\
<div class=\"line\"><span class=\"comment\">// Use of this software is subject to the terms of the Autodesk</span></div>\n\
<div class=\"line\"><span class=\"comment\">// license agreement provided at the time of installation or download,</span></div>\n\
<div class=\"line\"><span class=\"comment\">// or which otherwise accompanies this software in either electronic</span></div>\n\
<div class=\"line\"><span class=\"comment\">// or hard copy form.</span></div>\n\
<div class=\"line\"><span class=\"comment\">// ==========================================================================</span></div>\n\
<div class=\"line\"><span class=\"comment\">//+</span></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><span class=\"comment\">//</span></div>\n\
<div class=\"line\"><span class=\"comment\">//</span></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><span class=\"comment\">//General Includes</span></div>\n\
<div class=\"line\"><span class=\"comment\">//</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#include &lt;maya/MIOStream.h&gt;</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#include &lt;maya/MGlobal.h&gt;</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#include &lt;maya/MDagPath.h&gt;</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#include &lt;maya/MIntArray.h&gt;</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#include &lt;maya/MFnSet.h&gt;</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#include &lt;maya/MItDependencyGraph.h&gt;</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#include &lt;maya/MPlug.h&gt;</span></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><span class=\"comment\">//Iterator Includes</span></div>\n\
<div class=\"line\"><span class=\"comment\">//</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#include &lt;maya/MItMeshPolygon.h&gt;</span></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><span class=\"comment\">//polyX3DWriter.cpp</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#include &quot;polyX3DWriter.h&quot;</span></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><span class=\"comment\">//Macros</span></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><span class=\"comment\">//used as the default color for vertices which have no color assigned</span></div>\n\
<div class=\"line\"><span class=\"comment\">//</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#define DEFAULT_COLOR   &quot;0.2 0.2 0.2&quot;</span></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><span class=\"comment\">//used as default values for the Material tag when outputting a texture</span></div>\n\
<div class=\"line\"><span class=\"comment\">//</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#define DIFFUSE_COLOR   &quot;0 0 0&quot;</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#define SHININESS       &quot;0.8&quot;</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#define SPECULAR_COLOR  &quot;0.5 0.5 0.5&quot;</span></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><span class=\"comment\">//flags used to indicate which tags have been outputted already, so to</span></div>\n\
<div class=\"line\"><span class=\"comment\">//minimize data duplication</span></div>\n\
<div class=\"line\"><span class=\"comment\">//</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#define COORDINATE_FLAG 0x0001</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#define NORMAL_FLAG     0x0010</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#define TEXTURE_FLAG    0x0100</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#define COLOR_FLAG      0x1000</span></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><span class=\"comment\">//number of spaces per tab</span></div>\n\
<div class=\"line\"><span class=\"preprocessor\">#define INITIAL_TAB_COUNT 2</span></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">polyX3DWriter::polyX3DWriter(<span class=\"keyword\">const</span> <a name=\"_a0\"></a><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_dag_path.html\">MDagPath</a>&amp; dagPath, <a name=\"_a1\"></a><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a>&amp; status):</div>\n\
<div class=\"line\">    polyWriter(dagPath, status),</div>\n\
<div class=\"line\">    fTagFlags(0),</div>\n\
<div class=\"line\">    fInitialTabCount(INITIAL_TAB_COUNT)</div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  creates and initializes an object of this class</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Args   :  dagPath - the DAG path of the current node</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          status - will be set to MStatus::kSuccess if the constructor was</span></div>\n\
<div class=\"line\"><span class=\"comment\">//                   successful;  MStatus::kFailure otherwise</span></div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">polyX3DWriter::~polyX3DWriter()</div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  destructor method - does nothing</span></div>\n\
<div class=\"line\"><span class=\"comment\">//</span></div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> polyX3DWriter::extractGeometry() </div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  extracts main geometry as well as the current UV set and UV set </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          coordinates</span></div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (<a name=\"a2\"></a><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == polyWriter::extractGeometry()) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == fMesh-&gt;getUVs(fUArray, fVArray, &amp;fCurrentUVSetName)) {</div>\n\
<div class=\"line\">        <a name=\"a3\"></a><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0\">MGlobal::displayError</a>(<span class=\"stringliteral\">&quot;MFnMesh::getUVs&quot;</span>); </div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">return</span> <a name=\"a4\"></a><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1\">MStatus::kSuccess</a>;</div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> polyX3DWriter::writeToFile(ostream&amp; os) </div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  outputs the geometry of this polygonal mesh in X3D compliant format</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Args   :  os - an output stream to write to</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          tabCount - the initial number of tabs to print</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Returns:  MStatus::kSuccess if the method succeeds</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          MStatus::kFailure if the method fails</span></div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\">    <a name=\"a5\"></a><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_global.html#a3d14e9f9ed022a80f664eac0136c2f7a\">MGlobal::displayInfo</a>(<span class=\"stringliteral\">&quot;Exporting &quot;</span> + fMesh-&gt;partialPathName());</div>\n\
<div class=\"line\">    <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> setCount = fPolygonSets.length();</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (0 == setCount) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    } <span class=\"keywordflow\">else</span> <span class=\"keywordflow\">if</span> (1 == setCount) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == outputSets(os)) {</div>\n\
<div class=\"line\">            <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\">    } <span class=\"keywordflow\">else</span> {</div>\n\
<div class=\"line\">        outputTabs(os, INITIAL_TAB_COUNT);</div>\n\
<div class=\"line\">        fInitialTabCount++;</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Group DEF=\\&quot;&quot;</span> &lt;&lt; fMesh-&gt;partialPathName() &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot;&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == outputSets(os)) {</div>\n\
<div class=\"line\">            <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\">        outputTabs(os, INITIAL_TAB_COUNT);</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;/Group&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\">    <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1\">MStatus::kSuccess</a>;</div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> polyX3DWriter::outputSingleSet (ostream&amp; os, <a name=\"_a6\"></a><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_string.html\">MString</a> setName, <a name=\"_a7\"></a><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_int_array.html\">MIntArray</a> faces, <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_string.html\">MString</a> textureName) {</div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  outputs a single set of polygons grouped under a Shape tag</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Args   :  os - an output stream to write to</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          shapeName - the value for the DEF attribute</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          faces - an MIntArray containing the indices of the faces to include</span></div>\n\
<div class=\"line\"><span class=\"comment\">//                  in this shape</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          textureName - the full path for the texture file</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Returns:  MStatus::kSuccess if the method successfully outputs this tag;</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          MStatus::kFailure otherwise</span></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (0 == fPolygonSets.length()) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    } <span class=\"keywordflow\">else</span> <span class=\"keywordflow\">if</span> (1 == fPolygonSets.length()) {</div>\n\
<div class=\"line\">        setName = fMesh-&gt;partialPathName();</div>\n\
<div class=\"line\">    } <span class=\"keywordflow\">else</span> {</div>\n\
<div class=\"line\">        setName = fMesh-&gt;partialPathName() + <span class=\"stringliteral\">&quot;_&quot;</span> + setName;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\">    <span class=\"keywordflow\">return</span> outputX3DShapeTag (os, setName, faces, textureName, fInitialTabCount);</div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> polyX3DWriter::outputX3DShapeTag(ostream &amp; os,</div>\n\
<div class=\"line\">                                     <span class=\"keyword\">const</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_string.html\">MString</a> shapeName,</div>\n\
<div class=\"line\">                                     <span class=\"keyword\">const</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_int_array.html\">MIntArray</a>&amp; faces,</div>\n\
<div class=\"line\">                                     <span class=\"keyword\">const</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_string.html\">MString</a> textureName,</div>\n\
<div class=\"line\">                                     <span class=\"keyword\">const</span> <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> tabCount) </div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  outputs the X3D Shape tag with the DEF attribute</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Args   :  os - an output stream to write to</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          shapeName - the value for the DEF attribute</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          faces - an MIntArray containing the indices of the faces to include</span></div>\n\
<div class=\"line\"><span class=\"comment\">//                  in this shape</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          textureName - the full path for the texture file</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          tabCount - the number of tabs to preceed this tag</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Returns:  MStatus::kSuccess if the method successfully outputs this tag;</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          MStatus::kFailure otherwise</span></div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\">    outputTabs(os, tabCount);</div>\n\
<div class=\"line\">    os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Shape DEF=\\&quot;&quot;</span> &lt;&lt; shapeName &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot;&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == outputX3DAppearanceTag(os, textureName, tabCount + 1)) { </div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == outputX3DIndexedFaceSetTag(os, faces, textureName, tabCount + 1)) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    outputTabs(os, tabCount);</div>\n\
<div class=\"line\">    os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;/Shape&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1\">MStatus::kSuccess</a>;</div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> polyX3DWriter::outputX3DAppearanceTag(ostream &amp; os, </div>\n\
<div class=\"line\">                                          <span class=\"keyword\">const</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_string.html\">MString</a> textureName, </div>\n\
<div class=\"line\">                                          <span class=\"keyword\">const</span> <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> tabCount) </div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  outputs the X3D Appearance Tag.  If textureName is an empty string, </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          outputs the default Material tag;  otherwise outputs a Material tag </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          with diffuseColor, shininess, and specularColor values set, along </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          with an ImageTexture tag with the url attribute value set to </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          textureName</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Args   :  os - an output stream to write to</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          textureName - the full path of the texture file</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          tabCount - the number of tabs to preceed this tag</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Returns:  MStatus::kSuccess if the method successfully outputs this tag;</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          MStatus::kFailure otherwise</span></div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\">    outputTabs(os, tabCount);</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"comment\">//No texture name given, output default apperance and material tags</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (textureName == <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_string.html\">MString</a>(<span class=\"stringliteral\">&quot;&quot;</span>)) {</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Appearance&gt;&lt;Material/&gt;&lt;/Appearance&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"comment\">//Texture name was given, output an ImageTexture tag with the texture name </span></div>\n\
<div class=\"line\">    <span class=\"comment\">//as the value of the url attribute, and output default values for the </span></div>\n\
<div class=\"line\">    <span class=\"comment\">//diffuseColor, shininess, and specularColor of the material node</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    } <span class=\"keywordflow\">else</span> {</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Appearance&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\">        outputTabs(os, tabCount + 1);</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;ImageTexture url=\\&quot;&quot;</span> &lt;&lt; textureName &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot;/&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\">        outputTabs(os, tabCount + 1);</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Material diffuseColor=\\&quot;&quot;</span> &lt;&lt; DIFFUSE_COLOR </div>\n\
<div class=\"line\">           &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot; shininess=\\&quot;&quot;</span> &lt;&lt; SHININESS </div>\n\
<div class=\"line\">           &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot; specularColor=\\&quot;&quot;</span> &lt;&lt; SPECULAR_COLOR </div>\n\
<div class=\"line\">           &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot;/&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\">        outputTabs(os, tabCount);</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;/Appearance&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\">    <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1\">MStatus::kSuccess</a>;</div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> polyX3DWriter::outputX3DIndexedFaceSetTag(ostream &amp; os, </div>\n\
<div class=\"line\">                                              <span class=\"keyword\">const</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_int_array.html\">MIntArray</a>&amp; faces,</div>\n\
<div class=\"line\">                                              <span class=\"keyword\">const</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_string.html\">MString</a> textureName, </div>\n\
<div class=\"line\">                                              <span class=\"keyword\">const</span> <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> tabCount) </div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  outputs the X3D IndexedFaceSet tag along with the Coordinate and</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          Normal tags.  If textureName is an empty string, also outputs the</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          Color tag and IndexedFaceSet&#39;s colorIndex and colorPerVertex </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          attributes; otherwise outputs the TextureCoordinate tag and</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          IndexedFaceSet&#39;s texCoordIndex attribute</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Args   :  os - an output stream to write to</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          faces - an MIntArray containing the indices of the faces to include</span></div>\n\
<div class=\"line\"><span class=\"comment\">//                  in this IndexedFaceSet</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          textureName - the full path for the texture file</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          tabCount - the number of tabs to preceed this tag</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Returns:  MStatus::kSuccess if the method successfully outputs this tag;</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          MStatus::kFailure otherwise</span></div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\">    outputTabs(os, tabCount);</div>\n\
<div class=\"line\">    os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;IndexedFaceSet coordIndex=\\&quot;&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> faceCount = faces.<a name=\"a8\"></a><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_int_array.html#a580388f31f60c46fac867ca48a48da1e\">length</a>();</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"comment\">//if there are no faces to output return an error status</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (0 == faceCount) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> status;</div>\n\
<div class=\"line\">    <span class=\"comment\">//general purpose counters</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> i, j, indexCount;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"comment\">//general int array storage</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_int_array.html\">MIntArray</a> indexList;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"comment\">//For every face in the faces array, retrieve and output its vertices.</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//getPolygonVertices() returns the indices of the vertices of a given face,</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//and orders the vertex indices in the array in the manner required for the</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//X3D IndexedFaceSet tag.  Note, these indices refer to the array fVertexArray.</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">for</span> (i = 0; i &lt; faceCount; i++) {</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">        indexCount = fMesh-&gt;polygonVertexCount(faces[i], &amp;status);</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == status) {</div>\n\
<div class=\"line\">            <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0\">MGlobal::displayError</a>(<span class=\"stringliteral\">&quot;MFnMesh::polygonVertexCount&quot;</span>);</div>\n\
<div class=\"line\">            <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">        <span class=\"comment\">//store those vertices for face[i] and output them</span></div>\n\
<div class=\"line\">        <span class=\"comment\">//</span></div>\n\
<div class=\"line\">        status = fMesh-&gt;getPolygonVertices (faces[i], indexList);</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == status) {</div>\n\
<div class=\"line\">            <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0\">MGlobal::displayError</a>(<span class=\"stringliteral\">&quot;MFnMesh::getPolygonVertices&quot;</span>);</div>\n\
<div class=\"line\">            <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">        <span class=\"keywordflow\">for</span> (j = 0; j &lt; indexCount; j++) {</div>\n\
<div class=\"line\">            os &lt;&lt; indexList[j] &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;-1 &quot;</span>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"comment\">//For every face in the faces array, retrieve and output its vertex normals.</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//getNormalIDs() returns the indices of the normals of a given face.  Note, </span></div>\n\
<div class=\"line\">    <span class=\"comment\">//these indices refer to the array fNormalArray.</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    os &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot; normalPerVertex=\\&quot;true\\&quot; normalIndex=\\&quot;&quot;</span>;</div>\n\
<div class=\"line\">    <span class=\"keywordflow\">for</span> (i = 0; i &lt; faceCount; i++) {</div>\n\
<div class=\"line\">        <span class=\"comment\">//store the vertex normals for face[i]</span></div>\n\
<div class=\"line\">        <span class=\"comment\">//</span></div>\n\
<div class=\"line\">        status = fMesh-&gt;getFaceNormalIds (faces[i], indexList);</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == status) {</div>\n\
<div class=\"line\">            <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0\">MGlobal::displayError</a>(<span class=\"stringliteral\">&quot;MFnMesh::getFaceNormalIds&quot;</span>);</div>\n\
<div class=\"line\">            <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">        <span class=\"comment\">//determine the number of vertex normals for face[i] </span></div>\n\
<div class=\"line\">        <span class=\"comment\">//and output them</span></div>\n\
<div class=\"line\">        indexCount = indexList.<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_int_array.html#a580388f31f60c46fac867ca48a48da1e\">length</a>();</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">for</span> (j = 0; j &lt; indexCount; j++) {</div>\n\
<div class=\"line\">            os &lt;&lt; indexList[j] &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;-1 &quot;</span>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\">    os &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot; &quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"comment\">//If a texture name is not given, output colorIndex attribute</span></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (textureName == <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_string.html\">MString</a>(<span class=\"stringliteral\">&quot;&quot;</span>)) {</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;colorPerVertex=\\&quot;true\\&quot; &quot;</span>;</div>\n\
<div class=\"line\">        <span class=\"comment\">//output the color indices for each per polygon vertex.  These indices</span></div>\n\
<div class=\"line\">        <span class=\"comment\">//refer to the array fColorArray</span></div>\n\
<div class=\"line\">        <span class=\"comment\">//</span></div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;colorIndex=\\&quot;&quot;</span>;</div>\n\
<div class=\"line\">        <span class=\"keywordtype\">int</span> colorIndex = 0;</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">for</span> (i = 0; i &lt; faceCount; i++) {</div>\n\
<div class=\"line\">            indexCount = fMesh-&gt;polygonVertexCount(faces[i], &amp;status);</div>\n\
<div class=\"line\">            <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == status) {</div>\n\
<div class=\"line\">                <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0\">MGlobal::displayError</a>(<span class=\"stringliteral\">&quot;MFnMesh::polygonVertexCount&quot;</span>);</div>\n\
<div class=\"line\">                <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">            }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">            <span class=\"keywordflow\">for</span> (j = 0; j &lt; indexCount; j++) {</div>\n\
<div class=\"line\">                <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == fMesh-&gt;getFaceVertexColorIndex(faces[i], j, colorIndex)) {</div>\n\
<div class=\"line\">                    <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0\">MGlobal::displayError</a>(<span class=\"stringliteral\">&quot;MFnMesh::getFaceVertexColorIndex&quot;</span>);</div>\n\
<div class=\"line\">                    <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">                }</div>\n\
<div class=\"line\">                os &lt;&lt; colorIndex &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span>;</div>\n\
<div class=\"line\">            }</div>\n\
<div class=\"line\">            os &lt;&lt; <span class=\"stringliteral\">&quot;-1 &quot;</span>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot;&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">        <span class=\"comment\">//output the X3D color tag to correspond with the indices</span></div>\n\
<div class=\"line\">        <span class=\"comment\">//</span></div>\n\
<div class=\"line\">        <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == outputX3DColorTag(os, tabCount + 1)) {</div>\n\
<div class=\"line\">            <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"comment\">//A texture name was given, output the texCoordIndex attribute</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    } <span class=\"keywordflow\">else</span> {</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot; texCoordIndex=\\&quot;&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">        <span class=\"comment\">//output the uv indicies for each polygon per vertex.  These indices</span></div>\n\
<div class=\"line\">        <span class=\"comment\">//refer to the arrays fUArray and fVArray</span></div>\n\
<div class=\"line\">        <span class=\"comment\">//</span></div>\n\
<div class=\"line\">        </div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">        <span class=\"keywordflow\">for</span> (i = 0; i &lt; faceCount; i++) {</div>\n\
<div class=\"line\">            indexCount = fMesh-&gt;polygonVertexCount(faces[i], &amp;status);</div>\n\
<div class=\"line\">            <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == status) {</div>\n\
<div class=\"line\">                <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0\">MGlobal::displayError</a>(<span class=\"stringliteral\">&quot;MFnMesh::polygonVertexCount&quot;</span>);</div>\n\
<div class=\"line\">                <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">            }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">            <span class=\"keywordflow\">for</span> (j = 0; j &lt; indexCount; j++) {</div>\n\
<div class=\"line\">                <span class=\"keywordtype\">int</span> uvID;</div>\n\
<div class=\"line\">                status = fMesh-&gt;getPolygonUVid(faces[i], j, uvID, &amp;fCurrentUVSetName);</div>\n\
<div class=\"line\">                <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == status) {</div>\n\
<div class=\"line\">                    <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0\">MGlobal::displayError</a>(<span class=\"stringliteral\">&quot;MFnMesh::getPolygonUVid&quot;</span>);</div>\n\
<div class=\"line\">                    <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">                }</div>\n\
<div class=\"line\">                os &lt;&lt; uvID &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span>;</div>\n\
<div class=\"line\">            }</div>\n\
<div class=\"line\">            os &lt;&lt; <span class=\"stringliteral\">&quot;-1 &quot;</span>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot;&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">        <span class=\"comment\">//output the X3D TextureCoordinateTag to correspond with the indices</span></div>\n\
<div class=\"line\">        <span class=\"comment\">//</span></div>\n\
<div class=\"line\">        <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == outputX3DTextureCoordinateTag(os, tabCount + 1)) {</div>\n\
<div class=\"line\">            <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"comment\">//output the vertex coordinates using the X3D Coordinate tag and</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//output the vertex normals using the X3D Normal tag</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (<a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == outputX3DCoordinateTag(os, tabCount + 1)</div>\n\
<div class=\"line\">        || <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a> == outputX3DNormalTag(os, tabCount + 1)) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\">    </div>\n\
<div class=\"line\">    outputTabs(os, tabCount);</div>\n\
<div class=\"line\">    os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;/IndexedFaceSet&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1\">MStatus::kSuccess</a>;</div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> polyX3DWriter::outputX3DCoordinateTag(ostream &amp; os, </div>\n\
<div class=\"line\">                                          <span class=\"keyword\">const</span> <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> tabCount) </div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  outputs the X3D Coordinate tag with the DEF attribute if the tag </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          has not been previously output for this polygonal mesh; with the </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          USE attribute otherwise</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Args   :  os - an output stream to write to</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          tabCount - the number of tabs to preceed this tag</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Returns:  MStatus::kSuccess if the method successfully outputs this tag;</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          MStatus::kFailure otherwise</span></div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\">    <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> vertexCount = fVertexArray.length();</div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (0 == vertexCount) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    outputTabs(os, tabCount);</div>\n\
<div class=\"line\">    <span class=\"comment\">//tag has already been output for this mesh, so just re-use that tag</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (fTagFlags &amp; COORDINATE_FLAG) {</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Coordinate USE=\\&quot;&quot;</span> &lt;&lt; fMesh-&gt;partialPathName() &lt;&lt; <span class=\"stringliteral\">&quot;_coordinates&quot;</span>;</div>\n\
<div class=\"line\">    <span class=\"comment\">//tag has not been output for this mesh, so define a new tag with the</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//necessary data</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    } <span class=\"keywordflow\">else</span> {</div>\n\
<div class=\"line\">        fTagFlags |= COORDINATE_FLAG;</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Coordinate DEF=\\&quot;&quot;</span> &lt;&lt; fMesh-&gt;partialPathName() &lt;&lt; <span class=\"stringliteral\">&quot;_coordinates\\&quot; point=\\&quot;&quot;</span>;</div>\n\
<div class=\"line\">        <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> i;</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">for</span> (i = 0; i &lt; vertexCount; i++) {</div>\n\
<div class=\"line\">            os &lt;&lt; fVertexArray[i].x &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span> </div>\n\
<div class=\"line\">               &lt;&lt; fVertexArray[i].y &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span> </div>\n\
<div class=\"line\">               &lt;&lt; fVertexArray[i].z &lt;&lt; <span class=\"stringliteral\">&quot;, &quot;</span>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    os &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot;/&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1\">MStatus::kSuccess</a>;</div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> polyX3DWriter::outputX3DNormalTag(ostream &amp; os, </div>\n\
<div class=\"line\">                                      <span class=\"keyword\">const</span> <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> tabCount) </div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  outputs the X3D Normal tag with the DEF attribute if the Normal tag</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          has not been previously output for this polygonal mesh; with the </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          USE attribute otherwise</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Args   :  os - an output stream to write to</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          tabCount - the number of tabs to preceed this tag</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Returns:  MStatus::kSuccess if the method successfully outputs this tag;</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          MStatus::kFailure otherwise</span></div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\">    <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> normalCount = fNormalArray.length();</div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (0 == normalCount) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    outputTabs(os, tabCount);</div>\n\
<div class=\"line\">    <span class=\"comment\">//tag has already been output for this mesh, so just re-use that tag</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (fTagFlags &amp; NORMAL_FLAG) {</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Normal USE=\\&quot;&quot;</span> &lt;&lt; fMesh-&gt;partialPathName() &lt;&lt; <span class=\"stringliteral\">&quot;_normals&quot;</span>;</div>\n\
<div class=\"line\">    <span class=\"comment\">//tag has not been output for this mesh, so define a new tag with the</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//necessary data</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    } <span class=\"keywordflow\">else</span> {</div>\n\
<div class=\"line\">        fTagFlags |= NORMAL_FLAG;</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Normal DEF=\\&quot;&quot;</span> &lt;&lt; fMesh-&gt;partialPathName() &lt;&lt; <span class=\"stringliteral\">&quot;_normals\\&quot; vector=\\&quot;&quot;</span>;</div>\n\
<div class=\"line\">        <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> i;</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">for</span> (i = 0; i &lt; normalCount; i++) {</div>\n\
<div class=\"line\">            os &lt;&lt; fNormalArray[i].x &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span> </div>\n\
<div class=\"line\">               &lt;&lt; fNormalArray[i].y &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span> </div>\n\
<div class=\"line\">               &lt;&lt; fNormalArray[i].z &lt;&lt; <span class=\"stringliteral\">&quot;, &quot;</span>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\">    os &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot;/&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1\">MStatus::kSuccess</a>;</div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> polyX3DWriter::outputX3DTextureCoordinateTag(ostream &amp; os, </div>\n\
<div class=\"line\">                                                 <span class=\"keyword\">const</span> <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> tabCount) </div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  outputs the X3D TextureCoordinate tag with the DEF attribute if the </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          tag has not been previously output for this polygonal mesh; with </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          the USE attribute otherwise</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Args   :  os - an output stream to write to</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          tabCount - the number of tabs to preceed this tag</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Returns:  MStatus::kSuccess if the method successfully outputs this tag;</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          MStatus::kFailure otherwise</span></div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\">    <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> uvCount = fUArray.length();</div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (0 == uvCount) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    outputTabs(os, tabCount);</div>\n\
<div class=\"line\">    <span class=\"comment\">//tag has already been output for this mesh, so just re-use that tag</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (fTagFlags &amp; TEXTURE_FLAG) {</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;TextureCoordinate USE=\\&quot;&quot;</span> &lt;&lt; fMesh-&gt;partialPathName() &lt;&lt; <span class=\"stringliteral\">&quot;_texCoordinates&quot;</span>;</div>\n\
<div class=\"line\">    <span class=\"comment\">//tag has not been output for this mesh, so define a new tag with the</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//necessary data</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    } <span class=\"keywordflow\">else</span> {</div>\n\
<div class=\"line\">        fTagFlags |= TEXTURE_FLAG;</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;TextureCoordinate DEF=\\&quot;&quot;</span> &lt;&lt; fMesh-&gt;partialPathName() &lt;&lt; <span class=\"stringliteral\">&quot;_texCoordinates\\&quot; point=\\&quot;&quot;</span>;</div>\n\
<div class=\"line\">        <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> i;</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">for</span> (i = 0; i &lt; uvCount; i++) {</div>\n\
<div class=\"line\">            os &lt;&lt; fUArray[i] &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span> &lt;&lt; fVArray[i] &lt;&lt; <span class=\"stringliteral\">&quot;, &quot;</span>;</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\">    os &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot;/&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1\">MStatus::kSuccess</a>;</div>\n\
<div class=\"line\">}</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\"><a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html\">MStatus</a> polyX3DWriter::outputX3DColorTag(ostream &amp; os, </div>\n\
<div class=\"line\">                                     <span class=\"keyword\">const</span> <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> tabCount) </div>\n\
<div class=\"line\"><span class=\"comment\">//Summary:  outputs the X3D Color tag with the DEF attribute if the tag has not </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          been previously output for this polygonal mesh; with the USE </span></div>\n\
<div class=\"line\"><span class=\"comment\">//          attribute otherwise</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Args   :  os - an output stream to write to</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          tabCount - the number of tabs to preceed this tag</span></div>\n\
<div class=\"line\"><span class=\"comment\">//Returns:  MStatus::kSuccess if the method successfully outputs this tag;</span></div>\n\
<div class=\"line\"><span class=\"comment\">//          MStatus::kFailure otherwise</span></div>\n\
<div class=\"line\">{</div>\n\
<div class=\"line\">    <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> colorCount = fColorArray.length();</div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (0 == colorCount) {</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80a1ef6c2d725fb4bec3e7e840d28adbc00\">MStatus::kFailure</a>;</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\">    </div>\n\
<div class=\"line\">    outputTabs(os, tabCount);</div>\n\
<div class=\"line\">    <span class=\"comment\">//tag has already been output for this mesh, so just re-use that tag</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">if</span> (fTagFlags &amp; COLOR_FLAG) {</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Color USE=\\&quot;&quot;</span> &lt;&lt; fMesh-&gt;partialPathName() &lt;&lt; <span class=\"stringliteral\">&quot;_colors&quot;</span>;</div>\n\
<div class=\"line\">    <span class=\"comment\">//tag has not been output for this mesh, so define a new tag with the</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//necessary data</span></div>\n\
<div class=\"line\">    <span class=\"comment\">//</span></div>\n\
<div class=\"line\">    } <span class=\"keywordflow\">else</span> {</div>\n\
<div class=\"line\">        fTagFlags |= COLOR_FLAG;</div>\n\
<div class=\"line\">        os &lt;&lt; <span class=\"stringliteral\">&quot;&lt;Color DEF=\\&quot;&quot;</span> &lt;&lt; fMesh-&gt;partialPathName() &lt;&lt; <span class=\"stringliteral\">&quot;_colors\\&quot; color=\\&quot;&quot;</span>;</div>\n\
<div class=\"line\">        <span class=\"keywordtype\">unsigned</span> <span class=\"keywordtype\">int</span> i;</div>\n\
<div class=\"line\">        <span class=\"keywordflow\">for</span> (i = 0; i &lt; colorCount; i++) {</div>\n\
<div class=\"line\">            <span class=\"comment\">//an rgb value of -1 -1 -1 in Maya indicates no color, so if any</span></div>\n\
<div class=\"line\">            <span class=\"comment\">//component is not -1, color info is present.  Note: only need to check</span></div>\n\
<div class=\"line\">            <span class=\"comment\">//r, g, or b; r was chosen arbitrarily</span></div>\n\
<div class=\"line\">            <span class=\"comment\">//</span></div>\n\
<div class=\"line\">            <span class=\"keywordflow\">if</span> (-1 != fColorArray[i].r) {</div>\n\
<div class=\"line\">                os &lt;&lt; fColorArray[i].r &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span> </div>\n\
<div class=\"line\">                   &lt;&lt; fColorArray[i].g &lt;&lt; <span class=\"stringliteral\">&quot; &quot;</span> </div>\n\
<div class=\"line\">                   &lt;&lt; fColorArray[i].b &lt;&lt; <span class=\"stringliteral\">&quot;, &quot;</span>;</div>\n\
<div class=\"line\">            <span class=\"comment\">//use default coloring</span></div>\n\
<div class=\"line\">            <span class=\"comment\">//</span></div>\n\
<div class=\"line\">            } <span class=\"keywordflow\">else</span> {</div>\n\
<div class=\"line\">                os &lt;&lt; DEFAULT_COLOR &lt;&lt; <span class=\"stringliteral\">&quot;, &quot;</span>;</div>\n\
<div class=\"line\">            }</div>\n\
<div class=\"line\">        }</div>\n\
<div class=\"line\">    }</div>\n\
<div class=\"line\">    os &lt;&lt; <span class=\"stringliteral\">&quot;\\&quot;/&gt;\\n&quot;</span>;</div>\n\
<div class=\"line\"></div>\n\
<div class=\"line\">    <span class=\"keywordflow\">return</span> <a class=\"code\" href=\"#!/url=./cpp_ref/class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1\">MStatus::kSuccess</a>;</div>\n\
<div class=\"line\">}</div>\n\
</div><!-- fragment --> </div><!-- contents -->\n\
</div><!-- doc-content -->\n\
          <div class=\"footer-block\"><a href=\"../html/ac.cmtdialog.htm\" class=\"comments-anchor\" target=\"_blank\"><span class=\"comments-link\">Please send us your comment about this page</span></a></div><br></div>\n\
   </div></body>\n\
</html>\n\
";