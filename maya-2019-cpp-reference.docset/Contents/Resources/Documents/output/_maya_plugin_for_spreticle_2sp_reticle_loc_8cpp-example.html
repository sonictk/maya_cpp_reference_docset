<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
<head><script src="../scripts/yepnope.1.5.4-min.js" type="text/javascript"></script><script src="../scripts/lib/jquery-1.11.1.min.js" type="text/javascript"></script><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><script src="../scripts/utils/adsk.redirect.js" type="text/javascript"></script>
<title>MayaPluginForSpreticle/spReticleLoc.cpp</title>
<meta content="C++" name="topic-subtype"/></head>
<body height="100%"><div class="body_content" id="body-content"><link href="cpp_ref/navtree.css" rel="stylesheet" type="text/css"/><link href="cpp_ref/doxygen.css" rel="stylesheet" type="text/css"/><link href="cpp_ref/tabs.css" rel="stylesheet" type="text/css"/><link href="style/adsk.cpm.css" rel="stylesheet" type="text/css"/><script type="text/javascript">
var tocSystemNeedsToBeLoaded = typeof(cpp_ref_adsk_ref_toc) == 'undefined';
var weAreIn21 = $('div#main.view-active').length;
var tocPrefix = '';
if (weAreIn21)
{ tocPrefix = 'cpp_ref/'; }
function cpp_ref_initializeToc(forceTrigger) {
    cpp_ref_adsk_ref_toc.initResizable();
    cpp_ref_adsk_ref_toc.initNavTree('_maya_plugin_for_spreticle_2sp_reticle_loc_8cpp-example.html', tocPrefix);
    dQuery(document).trigger('toc_initialized');
}
if (tocSystemNeedsToBeLoaded)
{
	yepnope([{
	load:[tocPrefix + 'json3.min.js', tocPrefix + 'jquery.js', tocPrefix + 'ref-toc-controller.js', tocPrefix + 'dynsections.js'],
	complete: function() {
	  if (typeof(dQuery) == 'undefined')
	  {
	    dQuery = jQuery.noConflict(true);
	  }
	  else { jQuery.noConflict(true); }
	  $(document).ready(cpp_ref_initializeToc);
	}
 	}])
}
if (!weAreIn21) { // if in AKN...
$(window).load( function() {
    setTimeout( function() {
        var content = $('body > div').not('#body-content');     // take any divs under body that are not id=body-content
        content.each( function() { 
            $(this).css( { 'padding-left': $(this).css('margin-left') } );       // and if they have any padding-left already, move it to margin-left.
        } );
        var width = cpp_ref_adsk_ref_toc.readFromStorage('width');
        content.css({marginLeft:parseInt(width)+6+"px"});
    }, 100);
} ); 
}
</script><script>$("div#WidgetFloaterPanels,link[href*='microsofttranslator.com'],script[src*='microsofttranslator.com'],script[src*='bing.com']").remove();</script><script type="text/javascript">$("div#navigation,div#breadcrumbs,div#banner").attr("translate","no"); var mtLocation = ((location && location.href && location.href.indexOf('https') == 0)?'https://ssl.microsofttranslator.com':'http://www.microsofttranslator.com')+'/ajax/v3/WidgetV3.ashx?ctf=True&ui=true&settings=Manual&from=en&hidelanguages='; yepnope.injectJs(mtLocation, function() {}, { charset:'utf-8', type:'text/javascript' } );</script><script>
 if (!tocSystemNeedsToBeLoaded) { cpp_ref_initializeToc(); }
 </script><!-- begin MT -->
<div class="Dark" id="MicrosoftTranslatorWidget" style="float:right;z-index:100;color:white;background-color:#bbbbbb;height:58px;overflow:hidden"></div>
<div>
<div class="head">
<h1>MayaPluginForSpreticle/spReticleLoc.cpp</h1>
</div>
<div id="top"><!-- Generated by Doxygen 1.8.10 -->
<div class="tabs" id="navrow1">
<ul class="tablist">
<li><a href="./index.html"><span>MainÂ Page</span></a></li>
<li><a href="./pages.html"><span>Topics</span></a></li>
<li><a href="./modules.html"><span>Modules</span></a></li>
<li><a href="./namespaces.html"><span>Namespaces</span></a></li>
<li><a href="./annotated.html"><span>Classes</span></a></li>
<li><a href="./files.html"><span>Files</span></a></li>
<li><a href="./examples.html"><span>Examples</span></a></li>
</ul>
</div>
</div><!-- top -->
<div class="ui-resizable side-nav-resizable" id="side-nav">
<div id="nav-tree">
<div id="nav-tree-contents">
<div class="sync" id="nav-sync"></div>
</div>
</div>
<div class="ui-resizable-handle" id="splitbar" style="-moz-user-select:none;">
</div>
</div>
<div id="doc-content">
<div class="header">
<div class="headertitle">
<div class="title">MayaPluginForSpreticle/spReticleLoc.cpp</div> </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Copyright (c) 2009, Sony Pictures Imageworks</span></div>
<div class="line"><span class="comment">// All rights reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Redistribution and use in source and binary forms, with or without</span></div>
<div class="line"><span class="comment">// modification, are permitted provided that the following conditions</span></div>
<div class="line"><span class="comment">// are met:</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// Redistributions of source code must retain the above copyright</span></div>
<div class="line"><span class="comment">// notice, this list of conditions and the following disclaimer.</span></div>
<div class="line"><span class="comment">// Redistributions in binary form must reproduce the above copyright</span></div>
<div class="line"><span class="comment">// notice, this list of conditions and the following disclaimer in the</span></div>
<div class="line"><span class="comment">// documentation and/or other materials provided with the</span></div>
<div class="line"><span class="comment">// distribution.  Neither the name of Sony Pictures Imageworks nor the</span></div>
<div class="line"><span class="comment">// names of its contributors may be used to endorse or promote</span></div>
<div class="line"><span class="comment">// products derived from this software without specific prior written</span></div>
<div class="line"><span class="comment">// permission.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span></div>
<div class="line"><span class="comment">// "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span></div>
<div class="line"><span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS</span></div>
<div class="line"><span class="comment">// FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE</span></div>
<div class="line"><span class="comment">// COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,</span></div>
<div class="line"><span class="comment">// INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES</span></div>
<div class="line"><span class="comment">// (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR</span></div>
<div class="line"><span class="comment">// SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION)</span></div>
<div class="line"><span class="comment">// HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT,</span></div>
<div class="line"><span class="comment">// STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)</span></div>
<div class="line"><span class="comment">// ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED</span></div>
<div class="line"><span class="comment">// OF THE POSSIBILITY OF SUCH DAMAGE.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment"></span></div>
<div class="line"></div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * @file  spReticleLoc.cpp</span></div>
<div class="line"><span class="comment"> * This plug-in creates a custom locator to display a customizable reticle.</span></div>
<div class="line"><span class="comment"> * The reticle has the ability to display any number of aspect ratios as</span></div>
<div class="line"><span class="comment"> * well as pan-and-scan, projection masks, filmback data, etc. The look of</span></div>
<div class="line"><span class="comment"> * the reticle is customizable in regards to color and transparency for</span></div>
<div class="line"><span class="comment"> * masks, lines and text.There is also an option to specify whether the</span></div>
<div class="line"><span class="comment"> * reticle should respect the show/hide locator display options. Finally,</span></div>
<div class="line"><span class="comment"> * the reticle can be filtered to only display on cameras which contain</span></div>
<div class="line"><span class="comment"> * the attribute useSpReticle, set to true.</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MString.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnDependencyNode.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MFnPlugin.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MViewport2Renderer.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MItDag.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MUintArray.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPointArray.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Viewport 2.0 includes</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MDrawRegistry.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;maya/MPxDrawOverride.h&gt;</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#include "spReticleLoc.h"</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define McheckStatus(stat,msg)  \</span></div>
<div class="line"><span class="preprocessor">    if (!stat) {                \</span></div>
<div class="line"><span class="preprocessor">        stat.perror(msg);       \</span></div>
<div class="line"><span class="preprocessor">        return stat;            \</span></div>
<div class="line"><span class="preprocessor">    }</span></div>
<div class="line"></div>
<div class="line"><span class="preprocessor">#define McheckVoid(stat,msg)    \</span></div>
<div class="line"><span class="preprocessor">    if (!stat) {                \</span></div>
<div class="line"><span class="preprocessor">        stat.perror(msg);       \</span></div>
<div class="line"><span class="preprocessor">        return;                 \</span></div>
<div class="line"><span class="preprocessor">    }</span></div>
<div class="line"></div>
<div class="line"><a name="_a0"></a><a class="code" href="./class_m_type_id.html">MTypeId</a> spReticleLoc::id( 0x00000502 );</div>
<div class="line"><a name="_a1"></a><a class="code" href="./class_m_string.html">MString</a> spReticleLoc::drawDbClassification(<span class="stringliteral">"drawdb/geometry/spReticleLoc"</span>);</div>
<div class="line"><a class="code" href="./class_m_string.html">MString</a> spReticleLoc::drawRegistrantId(<span class="stringliteral">"spReticleLocPlugin"</span>);</div>
<div class="line"><a name="_a2"></a><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DrawingEnabled;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::EnableTextDrawing;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::FilmbackAperture;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::HorizontalFilmAperture;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::VerticalFilmAperture;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::SoundTrackWidth;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DisplayFilmGate;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::ProjectionGate;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::HorizontalProjectionGate;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::VerticalProjectionGate;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DisplayProjectionGate;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::SafeAction;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::HorizontalSafeAction;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::VerticalSafeAction;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DisplaySafeAction;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::SafeTitle;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::HorizontalSafeTitle;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::VerticalSafeTitle;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DisplaySafeTitle;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::AspectRatios;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::AspectRatio;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DisplayMode;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::AspectMaskColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::AspectMaskTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::AspectLineColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::AspectLineTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::AspectDisplaySafeAction;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::AspectDisplaySafeTitle;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanAttr;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanAspectRatio;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanDisplayMode;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanDisplaySafeTitle;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanDisplaySafeAction;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanRatio;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanOffset;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanMaskColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanMaskTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanLineColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PanScanLineTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::FilmGateColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::FilmGateTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::ProjGateColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::ProjGateTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::HideLocator;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::UseSpReticle;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DisplayLineH;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DisplayLineV;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DisplayThirdsH;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DisplayThirdsV;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DisplayCrosshair;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::MiscTextColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::MiscTextTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::LineColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::LineTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::Time;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::DriveCameraAperture;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::MaximumDistance;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::UseOverscan;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::Pad;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::UsePad;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PadAmount;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PadAmountX;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PadAmountY;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PadDisplayMode;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PadMaskColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PadMaskTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PadLineColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::PadLineTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::Text;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextType;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextStr;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextAlign;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextPos;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextPosX;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextPosY;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextPosRel;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextLevel;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextARLevel;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextColor;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::TextTrans;</div>
<div class="line"><a class="code" href="./class_m_object.html">MObject</a> spReticleLoc::Tag;</div>
<div class="line"></div>
<div class="line">spReticleLoc::spReticleLoc() {}</div>
<div class="line">spReticleLoc::~spReticleLoc() {}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function takes in a screen x and y value and converts it to values</span></div>
<div class="line"><span class="comment">// on the near and far clipping planes.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a name="_a3"></a><a class="code" href="./class_m_point.html">MPoint</a> spReticleLoc::getPoint( <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y, <a name="_a4"></a><a class="code" href="./class_m3d_view.html">M3dView</a> &amp; view, <a name="_a5"></a><a class="code" href="./class_m_matrix.html">MMatrix</a>&amp; wim )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> p, ncp, fcp;</div>
<div class="line"></div>
<div class="line">    view.<a name="a6"></a><a class="code" href="./class_m3d_view.html#a0accd26d35f3e627c34f521085366476">viewToWorld</a>(<span class="keywordtype">short</span>(x), <span class="keywordtype">short</span>(y), ncp, fcp);</div>
<div class="line"> <a name="_a7"></a><a class="code" href="./class_m_vector.html">MVector</a> v = fcp - ncp;</div>
<div class="line">    v.<a name="a8"></a><a class="code" href="./class_m_vector.html#ab66b0c7697d96a278da9bca810f4dee1">normalize</a>();</div>
<div class="line">    p = (ncp + v) * wim;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> p;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method will retrieve the individual r,g,b and alpha values from</span></div>
<div class="line"><span class="comment">// various plugs and store them in an MColor object.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a name="_a9"></a><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getColor(<a class="code" href="./class_m_object.html">MObject</a> colorObj, <a class="code" href="./class_m_object.html">MObject</a> transObj, <a name="_a10"></a><a class="code" href="./class_m_color.html">MColor</a> &amp; color)</div>
<div class="line">{</div>
<div class="line"> <a name="_a11"></a><a class="code" href="./class_m_plug.html">MPlug</a> p,c;</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, colorObj );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get red</span></div>
<div class="line">    c = p.<a name="a12"></a><a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>(0, &amp;stat);</div>
<div class="line">    McheckStatus (stat, (<span class="stringliteral">"spReticleLoc::getColor getting red plug from "</span>+p.<a name="a13"></a><a class="code" href="./class_m_plug.html#a58e7cf126b4fe51e9705cee4faaf59fc">name</a>() ) );</div>
<div class="line">    McheckStatus ( c.<a name="a14"></a><a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( color.<a name="a15"></a><a class="code" href="./class_m_color.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>  ), (<span class="stringliteral">"spReticleLoc::getColor getting red from "</span>+p.<a class="code" href="./class_m_plug.html#a58e7cf126b4fe51e9705cee4faaf59fc">name</a>() ) );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get green</span></div>
<div class="line">    c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>(1,&amp;stat);</div>
<div class="line">    McheckStatus (stat, (<span class="stringliteral">"spReticleLoc::getColor getting green plug from "</span>+p.<a class="code" href="./class_m_plug.html#a58e7cf126b4fe51e9705cee4faaf59fc">name</a>() ) );</div>
<div class="line">    McheckStatus ( c.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( color.<a name="a16"></a><a class="code" href="./class_m_color.html#a8cf17d727651616de6f2b79ef32170cd">g</a>  ), (<span class="stringliteral">"spReticleLoc::getColor getting green from "</span>+p.<a class="code" href="./class_m_plug.html#a58e7cf126b4fe51e9705cee4faaf59fc">name</a>() ) );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get blue</span></div>
<div class="line">    c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>(2, &amp;stat);</div>
<div class="line">    McheckStatus (stat, (<span class="stringliteral">"spReticleLoc::getColor getting blue plug from "</span>+p.<a class="code" href="./class_m_plug.html#a58e7cf126b4fe51e9705cee4faaf59fc">name</a>() ) );</div>
<div class="line">    McheckStatus ( c.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( color.<a name="a17"></a><a class="code" href="./class_m_color.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>  ), (<span class="stringliteral">"spReticleLoc::getColor getting blue from "</span>+p.<a class="code" href="./class_m_plug.html#a58e7cf126b4fe51e9705cee4faaf59fc">name</a>() ) );</div>
<div class="line"></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, transObj );</div>
<div class="line">    McheckStatus ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( color.<a name="a18"></a><a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a> ), (<span class="stringliteral">"spReticleLoc::getColor gettings transparency from "</span>+p.<a class="code" href="./class_m_plug.html#a58e7cf126b4fe51e9705cee4faaf59fc">name</a>() ) );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">//This method returns the specified matrix.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_matrix.html">MMatrix</a> spReticleLoc::getMatrix( <a class="code" href="./class_m_string.html">MString</a> matrixStr )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"> <a class="code" href="./class_m_matrix.html">MMatrix</a> matrix;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Extract the matrix attribute that is inherited from 'dagNode'</span></div>
<div class="line"> <a name="_a19"></a><a class="code" href="./class_m_fn_dependency_node.html">MFnDependencyNode</a> fnThisNode( thisNode );</div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> matrixAttribute = fnThisNode.attribute( matrixStr, &amp;stat );</div>
<div class="line"> <span class="keywordflow">if</span> (!stat)</div>
<div class="line">    {</div>
<div class="line">        stat.<a name="a20"></a><a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"spReticleLoc::getMatrix getting attribute : "</span>+matrixStr);</div>
<div class="line"> <span class="keywordflow">return</span> matrix.<a name="a21"></a><a class="code" href="./class_m_matrix.html#a9b368179e6c468c7fc4e6b3358ae6f2f">identity</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> matrixPlug( thisNode, matrixAttribute);</div>
<div class="line"> <span class="keywordflow">if</span> (matrixPlug.isNull())</div>
<div class="line">    {</div>
<div class="line">        stat.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"spReticleLoc::getting plug for attribute : "</span>+matrixStr);</div>
<div class="line"> <span class="keywordflow">return</span> matrix.<a class="code" href="./class_m_matrix.html#a9b368179e6c468c7fc4e6b3358ae6f2f">identity</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If matrix is an array so we must specify which element the plug refers to</span></div>
<div class="line"> <span class="keywordflow">if</span> (matrixPlug.isArray())</div>
<div class="line">    {</div>
<div class="line">        matrixPlug = matrixPlug.elementByLogicalIndex (0, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (!stat)</div>
<div class="line">        {</div>
<div class="line">            stat.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"spReticleLoc::getMatrix setting logical index to 0 for "</span>+matrixStr);</div>
<div class="line"> <span class="keywordflow">return</span> matrix.<a class="code" href="./class_m_matrix.html#a9b368179e6c468c7fc4e6b3358ae6f2f">identity</a>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the value of the matrix attribute</span></div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> matObject;</div>
<div class="line">    stat = matrixPlug.getValue(matObject);</div>
<div class="line"> <span class="keywordflow">if</span> (!stat)</div>
<div class="line">    {</div>
<div class="line">        stat.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"spReticleLoc::getMatrix getting value for "</span>+matrixStr);</div>
<div class="line"> <span class="keywordflow">return</span> matrix.<a class="code" href="./class_m_matrix.html#a9b368179e6c468c7fc4e6b3358ae6f2f">identity</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <a name="_a22"></a><a class="code" href="./class_m_fn_matrix_data.html">MFnMatrixData</a> matrixData(matObject, &amp;stat);</div>
<div class="line"> <span class="keywordflow">if</span> (!stat)</div>
<div class="line">    {</div>
<div class="line">        stat.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"spReticleLoc::getMatrix getting MfnMatrixData"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> matrix.<a class="code" href="./class_m_matrix.html#a9b368179e6c468c7fc4e6b3358ae6f2f">identity</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    matrix = matrixData.<a name="a23"></a><a class="code" href="./class_m_matrix.html#a527b102f4eb0951cf4f391f828d3ca34">matrix</a>( &amp;stat );</div>
<div class="line"> <span class="keywordflow">if</span> (!stat)</div>
<div class="line">    {</div>
<div class="line">        stat.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"spReticleLoc::getMatrix getting matrix"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> matrix.<a class="code" href="./class_m_matrix.html#a9b368179e6c468c7fc4e6b3358ae6f2f">identity</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> matrix;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method outputs to cerr the attributes of an Aspect_Ratio</span></div>
<div class="line"><span class="comment">// class instance.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::printAspectRatio(Aspect_Ratio &amp; ar)</div>
<div class="line">{</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"-------------------------------------------------"</span> &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"aspect ratio      : "</span> &lt;&lt; ar.aspectRatio &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"displayMode       : "</span> &lt;&lt; ar.displayMode &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"maskColor         : "</span> &lt;&lt; ar.aspectGeom.maskColor &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"lineColor         : "</span> &lt;&lt; ar.aspectGeom.lineColor &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method outputs to cerr the attributes of an PanScan class instance.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::printPanScan(PanScan &amp; ps)</div>
<div class="line">{</div>
<div class="line">    printAspectRatio( ps );</div>
<div class="line"></div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"panScanRatio      : "</span> &lt;&lt; ps.panScanRatio &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"panScanOffset     : "</span> &lt;&lt; ps.panScanOffset &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"displaySafeTitle  : "</span> &lt;&lt; ps.displaySafeTitle &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"displaySafeAction : "</span> &lt;&lt; ps.displaySafeAction &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method outputs to cerr the attributes of an TextData class instance.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::printText(TextData &amp; td)</div>
<div class="line">{</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"-------------------------------------------------"</span> &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"text type         : "</span> &lt;&lt; td.textType &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"text string       : "</span> &lt;&lt; td.textStr &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"text align        : "</span> &lt;&lt; td.textAlign &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"text pos          : "</span> &lt;&lt; td.textPosX &lt;&lt; <span class="stringliteral">", "</span> &lt;&lt; td.textPosY &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"text pos rel      : "</span> &lt;&lt; td.textPosRel &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"text level        : "</span> &lt;&lt; td.textLevel &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"text ar level     : "</span> &lt;&lt; td.textARLevel &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method outputs to cerr the attributes of an Geom class instance.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::printGeom(Geom &amp; g)</div>
<div class="line">{</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"-------------------------------------------------"</span> &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"x  : "</span> &lt;&lt; g.x &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"y  : "</span> &lt;&lt; g.y &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"x1 : "</span> &lt;&lt; g.x1 &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"x2 : "</span> &lt;&lt; g.x2 &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"y1 : "</span> &lt;&lt; g.y1 &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"y2 : "</span> &lt;&lt; g.y2 &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"mc : "</span> &lt;&lt; g.maskColor &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"lc : "</span> &lt;&lt; g.lineColor &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"iv : "</span> &lt;&lt; g.isValid &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method outputs to cerr the various options that have been specified.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::printOptions(Options&amp; opt)</div>
<div class="line">{</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"-------------------------------------------------"</span> &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"useSpRet            : "</span> &lt;&lt; opt.useSpRet &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"displayLineH        : "</span> &lt;&lt; opt.displayLineH &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"displayLineV        : "</span> &lt;&lt; opt.displayLineV &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"displayThirdsH      : "</span> &lt;&lt; opt.displayThirdsH &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"displayThirdsV      : "</span> &lt;&lt; opt.displayThirdsV &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"displayCrosshair    : "</span> &lt;&lt; opt.displayCrosshair &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"driveCameraAperture : "</span> &lt;&lt; opt.driveCameraAperture &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"maximumDistance     : "</span> &lt;&lt; opt.maximumDistance &lt;&lt; endl;</div>
<div class="line">    cerr &lt;&lt; <span class="stringliteral">"useOverscan         : "</span> &lt;&lt; opt.useOverscan &lt;&lt; endl;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method gets the pad data.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getPadData( spReticleLocData&amp; drawData )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p;</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the pad attribute;</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, UsePad );</div>
<div class="line">    McheckStatus ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( drawData.pad.usePad ), <span class="stringliteral">"spReticleLoc::getPadData pad"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the padAmountX attribute;</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, PadAmountX );</div>
<div class="line">    McheckStatus ( p.getValue ( drawData.pad.padAmountX  ), <span class="stringliteral">"spReticleLoc::getPadData padAmountX"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the padAmountY attribute;</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, PadAmountY );</div>
<div class="line">    McheckStatus ( p.getValue ( drawData.pad.padAmountY  ), <span class="stringliteral">"spReticleLoc::getPadData padAmountX"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Set whether the filmback is padded</span></div>
<div class="line">    drawData.pad.isPadded = (drawData.pad.padAmountX != 0 &amp;&amp; drawData.pad.padAmountY != 0);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (drawData.pad.usePad &amp;&amp; drawData.pad.isPadded)</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Get the pad display mode</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, PadDisplayMode );</div>
<div class="line">        McheckStatus ( p.getValue ( drawData.pad.displayMode ), <span class="stringliteral">"spReticleLoc::getPadData padDisplayMode"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the pad mask color</span></div>
<div class="line">        stat = getColor( PadMaskColor, PadMaskTrans, drawData.pad.padGeom.maskColor );</div>
<div class="line">        McheckStatus ( stat, <span class="stringliteral">"spReticleLoc::getPadData get padMaskColor"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the pad line color</span></div>
<div class="line">        stat = getColor(PadLineColor, PadLineTrans, drawData.pad.padGeom.lineColor );</div>
<div class="line">        McheckStatus ( stat, <span class="stringliteral">"spReticleLoc::getPadData get padLineColor"</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method retrieves all of the data related to the filmback from</span></div>
<div class="line"><span class="comment">// various plugs.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getFilmbackData( spReticleLocData&amp; drawData )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p;</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get horizontal film aperture</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, HorizontalFilmAperture );</div>
<div class="line">    McheckStatus ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( drawData.filmback.horizontalFilmAperture  ), <span class="stringliteral">"spReticleLoc::getFilmbackData get horizontalFilmAperture"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get vertical film aperture</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, VerticalFilmAperture );</div>
<div class="line">    McheckStatus ( p.getValue ( drawData.filmback.verticalFilmAperture  ), <span class="stringliteral">"spReticleLoc::getFilmbackData get verticalFilmAperture"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get vertical film aperture</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, SoundTrackWidth );</div>
<div class="line">    McheckStatus ( p.getValue ( drawData.filmback.soundTrackWidth  ), <span class="stringliteral">"spReticleLoc::getFilmbackData get soundTrackWidth"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get whether to display the film gate</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode,DisplayFilmGate );</div>
<div class="line">    McheckStatus ( p.getValue ( drawData.filmback.displayFilmGate  ), <span class="stringliteral">"spReticleLoc::getFilmbackData get displayFilmGate"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get the filmback line color</span></div>
<div class="line">    stat = getColor( FilmGateColor,FilmGateTrans, drawData.filmback.filmbackGeom.lineColor );</div>
<div class="line">    McheckStatus ( stat, <span class="stringliteral">"spReticleLoc::getFilmbackData get filmGateColor"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method retrieves all of the data related to the projection mask from</span></div>
<div class="line"><span class="comment">// various plugs and then calls calcProjGeom to calculate the various</span></div>
<div class="line"><span class="comment">// projection geometry instances.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getProjectionData( spReticleLocData&amp; drawData )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p;</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get whether to display the projection gate</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, DisplayProjectionGate );</div>
<div class="line">    McheckStatus ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( drawData.filmback.displayProjGate  ), <span class="stringliteral">"spReticleLoc::getProjectionData get displayProjectionGate"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> ( drawData.filmback.displayProjGate )</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">//Get horizontal projection gate</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, HorizontalProjectionGate );</div>
<div class="line">        McheckStatus ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( drawData.filmback.horizontalProjectionGate  ), <span class="stringliteral">"spReticleLoc::getProjectionData get horizontalProjectionGate"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get vertical projection gate</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, VerticalProjectionGate );</div>
<div class="line">        McheckStatus ( p.getValue ( drawData.filmback.verticalProjectionGate  ), <span class="stringliteral">"spReticleLoc::getProjectionData get verticalProjectionGate"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get the projection gate line color</span></div>
<div class="line">        stat = getColor( ProjGateColor, ProjGateTrans, drawData.filmback.projGeom.lineColor );</div>
<div class="line">        McheckStatus ( stat, <span class="stringliteral">"spReticleLoc::getProjectionData get projGateColor"</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method returns the data related to the filmback's safe action area.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getSafeActionData( spReticleLocData&amp; drawData )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p;</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get whether to display safe action</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode,DisplaySafeAction );</div>
<div class="line">    McheckStatus ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( drawData.filmback.displaySafeAction  ), <span class="stringliteral">"spReticleLoc::getSafeActionData get displaySafeAction"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get horizontal safe action</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, HorizontalSafeAction );</div>
<div class="line">    McheckStatus ( p.getValue ( drawData.filmback.horizontalSafeAction  ), <span class="stringliteral">"spReticleLoc::getSafeActionData get horizontalSafeAction"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get vertical safe action</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode,VerticalSafeAction );</div>
<div class="line">    McheckStatus ( p.getValue ( drawData.filmback.verticalSafeAction  ), <span class="stringliteral">"spReticleLoc::getSafeActionData get verticalSafeAction"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Set the safe action line color to the filmback line color</span></div>
<div class="line">    drawData.filmback.safeActionGeom.lineColor = drawData.filmback.filmbackGeom.lineColor;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method returns the data relating to the filmback's safe title area.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getSafeTitleData( spReticleLocData&amp; drawData )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p;</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get whether to display safe title</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, DisplaySafeTitle );</div>
<div class="line">    McheckStatus ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( drawData.filmback.displaySafeTitle  ), <span class="stringliteral">"spReticleLoc::getSafeTitleData get displaySafeTitle"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get horizontal safe title</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, HorizontalSafeTitle );</div>
<div class="line">    McheckStatus ( p.getValue ( drawData.filmback.horizontalSafeTitle  ), <span class="stringliteral">"spReticleLoc::getSafeTitleData get horizontalSafeTitle"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get vertical safe title</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, VerticalSafeTitle );</div>
<div class="line">    McheckStatus ( p.getValue ( drawData.filmback.verticalSafeTitle  ), <span class="stringliteral">"spReticleLoc::getSafeTitleData get verticalSafeTitle"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Set the safe title line color to the filmback line color</span></div>
<div class="line">    drawData.filmback.safeTitleGeom.lineColor = drawData.filmback.filmbackGeom.lineColor;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method gets the data for a specified aspect ratio. The aspectratios</span></div>
<div class="line"><span class="comment">// attribute is effectively a complex compound attribute where each index</span></div>
<div class="line"><span class="comment">// is the data for a specific aspect ratio.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getAspectRatioChildren(<a class="code" href="./class_m_plug.html">MPlug</a> arPlug, Aspect_Ratio &amp; ar)</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p, c;</div>
<div class="line"></div>
<div class="line">    p = arPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 0 , &amp;stat );</div>
<div class="line">    McheckStatus( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a>( ar.aspectRatio ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - aspectRatio"</span> );</div>
<div class="line"></div>
<div class="line">    p = arPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 1 , &amp;stat );</div>
<div class="line">    McheckStatus( p.getValue( ar.displayMode ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - displayMode"</span> );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displayMode != 0)</div>
<div class="line">    {</div>
<div class="line">        p = arPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 2 , &amp;stat );</div>
<div class="line"></div>
<div class="line">        c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 0, &amp;stat );</div>
<div class="line">        McheckStatus( c.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a>( ar.aspectGeom.maskColor.r ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - aspectMaskColorR"</span> );</div>
<div class="line"></div>
<div class="line">        c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 1, &amp;stat );</div>
<div class="line">        McheckStatus( c.getValue( ar.aspectGeom.maskColor.g ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - aspectMaskColorG"</span> );</div>
<div class="line"></div>
<div class="line">        c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 2, &amp;stat );</div>
<div class="line">        McheckStatus( c.getValue( ar.aspectGeom.maskColor.b ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - aspectMaskColorB"</span> );</div>
<div class="line"></div>
<div class="line">        p = arPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 3 , &amp;stat );</div>
<div class="line">        McheckStatus( p.getValue( ar.aspectGeom.maskColor.a ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - aspectMaskTrans"</span> );</div>
<div class="line"></div>
<div class="line">        p = arPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 4 , &amp;stat );</div>
<div class="line">        c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 0, &amp;stat );</div>
<div class="line">        McheckStatus( c.getValue( ar.aspectGeom.lineColor.r ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - aspectLineColorR"</span> );</div>
<div class="line"></div>
<div class="line">        c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 1, &amp;stat );</div>
<div class="line">        McheckStatus( c.getValue( ar.aspectGeom.lineColor.g ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - aspectLineColorG"</span> );</div>
<div class="line"></div>
<div class="line">        c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 2, &amp;stat );</div>
<div class="line">        McheckStatus( c.getValue( ar.aspectGeom.lineColor.b ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - aspectLineColorB"</span> );</div>
<div class="line"></div>
<div class="line">        p = arPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 5 , &amp;stat );</div>
<div class="line">        McheckStatus( p.getValue( ar.aspectGeom.lineColor.a ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - aspectLineTrans"</span> );</div>
<div class="line"></div>
<div class="line">        p = arPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 6 , &amp;stat );</div>
<div class="line">        McheckStatus( p.getValue( ar.displaySafeAction ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - displaySafeAction"</span> );</div>
<div class="line"></div>
<div class="line">        p = arPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 7 , &amp;stat );</div>
<div class="line">        McheckStatus( p.getValue( ar.displaySafeTitle ), <span class="stringliteral">"spReticleLoc::getAspectRatioChildren - displaySafeTitle"</span> );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> spReticleLoc::aspectRatioSortPredicate(<span class="keyword">const</span> Aspect_Ratio &amp; lhs,</div>
<div class="line"> <span class="keyword">const</span> Aspect_Ratio &amp; rhs)</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">return</span> lhs.aspectRatio &lt; rhs.aspectRatio;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This retrieves the data for all of the various aspect ratios.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getAspectRatioData( spReticleLocData&amp; drawData )</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Get the aspectRatios data</span></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> arsPlug = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, AspectRatios );</div>
<div class="line"> <span class="keywordtype">int</span> numPlugs = arsPlug.<a name="a24"></a><a class="code" href="./class_m_plug.html#ae98c3fdbce1daefa127bae2fe66a187c">numElements</a>();</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Clear the aspect ratio vector</span></div>
<div class="line">    drawData.ars.<a name="a25"></a><a class="code" href="./class_m_status.html#ac8bb3912a3ce86b15842e79d0b421204">clear</a>();</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numPlugs; i++)</div>
<div class="line">    {</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p = arsPlug.<a name="a26"></a><a class="code" href="./class_m_plug.html#a468f76143ddee02de717f75b2fc0de9d">elementByPhysicalIndex</a>( i, &amp;stat );</div>
<div class="line">        McheckStatus( stat, <span class="stringliteral">"spReticleLoc::getAspectRatioData - cannot get index"</span> );</div>
<div class="line"></div>
<div class="line">        Aspect_Ratio ar;</div>
<div class="line">        stat = getAspectRatioChildren( p, ar );</div>
<div class="line">        McheckStatus( stat, <span class="stringliteral">"spReticleLoc::getAspectRatioData - cannot get children"</span> );</div>
<div class="line"></div>
<div class="line"> <span class="comment">//printAspectRatio( ar );</span></div>
<div class="line"></div>
<div class="line">        drawData.ars.push_back( ar );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    drawData.numAspectRatios = (int)drawData.ars.size();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Sort aspect ratios</span></div>
<div class="line">    std::sort(drawData.ars.begin(),drawData.ars.end(),aspectRatioSortPredicate);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> spReticleLoc::needToUpdateAspectRatios( spReticleLocData&amp; drawData )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> arsPlug = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, AspectRatios );</div>
<div class="line"> <span class="keywordflow">return</span> (drawData.ars.size() != arsPlug.<a class="code" href="./class_m_plug.html#ae98c3fdbce1daefa127bae2fe66a187c">numElements</a>() );</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method gets the data for a PanScan class instance.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getPanScanData( PanScan &amp; ps )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> psPlug( thisNode, PanScanAttr );</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat = getAspectRatioChildren( psPlug, ps );</div>
<div class="line">    McheckStatus( stat, <span class="stringliteral">"spReticleLoc::getPanScanData - cannot get children"</span> );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (ps.displayMode != 0)</div>
<div class="line">    {</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p;</div>
<div class="line"></div>
<div class="line">        p = psPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 8 , &amp;stat );</div>
<div class="line">        McheckStatus( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a>( ps.panScanRatio ), <span class="stringliteral">"spReticleLoc::getPanScanData - panScanRatio"</span> );</div>
<div class="line"></div>
<div class="line">        p = psPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 9 , &amp;stat );</div>
<div class="line">        McheckStatus( p.getValue( ps.panScanOffset ), <span class="stringliteral">"spReticleLoc::getPanScanData - panScanOffset"</span> );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">//printPanScan( ps );</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method gets the data for a specified text entry. The text attribute</span></div>
<div class="line"><span class="comment">// is a complex compound attribute where each index is the data for a specific</span></div>
<div class="line"><span class="comment">// text element.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getTextChildren(<a class="code" href="./class_m_plug.html">MPlug</a> tPlug, TextData &amp; td)</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p, c;</div>
<div class="line"></div>
<div class="line">    p = tPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 0 , &amp;stat );</div>
<div class="line">    McheckStatus( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a>( td.textType ), <span class="stringliteral">"spReticleLoc::getTextChildren - textType"</span> );</div>
<div class="line"></div>
<div class="line">    p = tPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 1 , &amp;stat );</div>
<div class="line">    McheckStatus( p.getValue( td.textStr ), <span class="stringliteral">"spReticleLoc::getTextChildren - textStr"</span> );</div>
<div class="line"></div>
<div class="line">    p = tPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 2 , &amp;stat );</div>
<div class="line">    McheckStatus( p.getValue( td.textAlign ), <span class="stringliteral">"spReticleLoc::getTextChildren - textAlign"</span> );</div>
<div class="line"></div>
<div class="line">    p = tPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 3 , &amp;stat );</div>
<div class="line">    c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 0, &amp;stat );</div>
<div class="line">    McheckStatus( c.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a>( td.textPosX ), <span class="stringliteral">"spReticleLoc::getTextChildren - textPosX"</span> );</div>
<div class="line">    c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 1, &amp;stat );</div>
<div class="line">    McheckStatus( c.getValue( td.textPosY ), <span class="stringliteral">"spReticleLoc::getTextChildren - textPosY"</span> );</div>
<div class="line"></div>
<div class="line">    p = tPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 4 , &amp;stat );</div>
<div class="line">    McheckStatus( p.getValue( td.textPosRel ), <span class="stringliteral">"spReticleLoc::getTextChildren - textPosRel"</span> );</div>
<div class="line"></div>
<div class="line">    p = tPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 5 , &amp;stat );</div>
<div class="line">    McheckStatus( p.getValue( td.textLevel ), <span class="stringliteral">"spReticleLoc::getTextChildren - textLevel"</span> );</div>
<div class="line"></div>
<div class="line">    p = tPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 6 , &amp;stat );</div>
<div class="line">    McheckStatus( p.getValue( td.textARLevel ), <span class="stringliteral">"spReticleLoc::getTextChildren - textARLevel"</span> );</div>
<div class="line"></div>
<div class="line">    p = tPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 7 , &amp;stat );</div>
<div class="line">    c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 0, &amp;stat );</div>
<div class="line">    McheckStatus( c.getValue( td.textColor.r ), <span class="stringliteral">"spReticleLoc::getTextChildren - textColorR"</span> );</div>
<div class="line">    c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 1, &amp;stat );</div>
<div class="line">    McheckStatus( c.getValue( td.textColor.g ), <span class="stringliteral">"spReticleLoc::getTextChildren - textColorG"</span> );</div>
<div class="line">    c = p.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 2, &amp;stat );</div>
<div class="line">    McheckStatus( c.getValue( td.textColor.b ), <span class="stringliteral">"spReticleLoc::getTextChildren - textColorB"</span> );</div>
<div class="line"></div>
<div class="line">    p = tPlug.<a class="code" href="./class_m_plug.html#a482274cc996238a9a9e77be5781caa90">child</a>( 8 , &amp;stat );</div>
<div class="line">    McheckStatus( p.getValue( td.textColor.a ), <span class="stringliteral">"spReticleLoc::getTextChildren - textTrans"</span> );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getTextData( spReticleLocData&amp; drawData )</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Clear the text vector</span></div>
<div class="line">    drawData.text.<a class="code" href="./class_m_status.html#ac8bb3912a3ce86b15842e79d0b421204">clear</a>();</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p,tp,cp;</div>
<div class="line"></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, Text );</div>
<div class="line"> <span class="keywordtype">int</span> numPlugs = p.<a class="code" href="./class_m_plug.html#ae98c3fdbce1daefa127bae2fe66a187c">numElements</a>();</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numPlugs &amp;&amp; i &lt; 10; i++ )</div>
<div class="line">    {</div>
<div class="line">        TextData td;</div>
<div class="line"></div>
<div class="line">        tp = p.<a class="code" href="./class_m_plug.html#a468f76143ddee02de717f75b2fc0de9d">elementByPhysicalIndex</a>( i, &amp;stat );</div>
<div class="line">        McheckStatus( stat, <span class="stringliteral">"spReticleLoc::getTextData - cannot get index"</span> );</div>
<div class="line"></div>
<div class="line">        stat = getTextChildren( tp, td );</div>
<div class="line">        McheckStatus( stat, <span class="stringliteral">"spReticleLoc::getTextData - cannot get children"</span> );</div>
<div class="line"></div>
<div class="line"> <span class="comment">//printText( td );</span></div>
<div class="line"></div>
<div class="line">        drawData.text.push_back( td );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::getCustomTextElement(spReticleLocData&amp; drawData)</div>
<div class="line">{</div>
<div class="line">    TextData td;</div>
<div class="line"> <span class="keywordtype">char</span> buff[255];</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">double</span>                      maximumDist     = drawData.maximumDist     ;</div>
<div class="line">    Options                     options         = drawData.options         ;</div>
<div class="line">    Camera                      cameraData      = drawData.cameraData      ;</div>
<div class="line"> <span class="keywordtype">int</span>                         numAspectRatios = drawData.numAspectRatios ;</div>
<div class="line">    Geom                        portGeom        = drawData.portGeom        ;</div>
<div class="line">    std::vector&lt;TextData&gt;       text            = drawData.text            ;</div>
<div class="line">    std::vector&lt;Aspect_Ratio&gt;   ars             = drawData.ars             ;</div>
<div class="line">    PadOptions                  pad             = drawData.pad             ;</div>
<div class="line">    Filmback                    filmback        = drawData.filmback        ;</div>
<div class="line">    PanScan                     panScan         = drawData.panScan         ;</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a>                     nodeName        = drawData.nodeName        ;</div>
<div class="line"></div>
<div class="line">    drawData.textWhenDraw.<a name="a27"></a><a class="code" href="./class_m_string.html#ac8bb3912a3ce86b15842e79d0b421204">clear</a>();</div>
<div class="line"></div>
<div class="line"> <a name="_a28"></a><a class="code" href="./class_m_fn_camera.html">MFnCamera</a> camera;</div>
<div class="line">    camera.<a name="a29"></a><a class="code" href="./class_m_fn_dag_node.html#a6b2301b53683a8e8f56dd0b9cb088b0f">setObject</a>(cameraData.cameraPath);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; (int)text.size(); i++)</div>
<div class="line">    {</div>
<div class="line">        td = text[i];</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_color.html">MColor</a> textColor = options.textColor;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">switch</span> (td.textType)</div>
<div class="line">        {</div>
<div class="line"> <span class="keywordflow">case</span> 0:                     <span class="comment">//String</span></div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 1:                     <span class="comment">//Lens</span></div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%1.2f mm"</span>);</div>
<div class="line"></div>
<div class="line">            sprintf(buff,td.textStr.asChar(),camera.<a name="a30"></a><a class="code" href="./class_m_fn_camera.html#af617dec322af443bb85257cf32da848e">focalLength</a>() );</div>
<div class="line">            td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 2:                     <span class="comment">//Camera</span></div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                td.textStr = camera.<a name="a31"></a><a class="code" href="./class_m_fn_dependency_node.html#a049384adbea0396ea2f03d1ad4d69df1">name</a>();</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                sprintf(buff,td.textStr.asChar(),camera.<a class="code" href="./class_m_fn_dependency_node.html#a049384adbea0396ea2f03d1ad4d69df1">name</a>().<a name="a32"></a><a class="code" href="./class_m_string.html#aa9ab612f356c53479afc4c648c9ef94d">asChar</a>() );</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 3:                     <span class="comment">//Frame</span></div>
<div class="line">            {</div>
<div class="line"> <a name="_a33"></a><a class="code" href="./class_m_time.html">MTime</a> time;</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, Time );</div>
<div class="line"> <span class="keywordflow">if</span> (p.<a name="a34"></a><a class="code" href="./class_m_plug.html#ab7ec149d38b7c29ca55c5aa7b407d8f9">isNull</a>() == <span class="keyword">false</span> &amp;&amp; p.<a name="a35"></a><a class="code" href="./class_m_plug.html#a40a52cd1e2411064f234ac9a6559385b">isConnected</a>() == <span class="keyword">false</span>)</div>
<div class="line">                {</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> cmd = <span class="stringliteral">"connectAttr time1.o "</span>+p.<a class="code" href="./class_m_plug.html#a58e7cf126b4fe51e9705cee4faaf59fc">name</a>();</div>
<div class="line"> <a name="a36"></a><a class="code" href="./class_m_global.html#a09e405631e7cf680f8ac9d934ad73434">MGlobal::executeCommand</a>(cmd);</div>
<div class="line">                }</div>
<div class="line">                McheckVoid ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( time  ), <span class="stringliteral">"spReticleLoc::drawCustomTextElements get time"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%04.0f"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff,td.textStr.asChar(),time.<a name="a37"></a><a class="code" href="./class_m_time.html#a324b14b7506c6e4f47912161956974ed">value</a>() );</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 4:                     <span class="comment">//Aspect Ratio</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordtype">int</span> level = td.textARLevel;</div>
<div class="line"> <span class="keywordflow">if</span> (level &lt; 0 || level &gt;= numAspectRatios)</div>
<div class="line">                {</div>
<div class="line"> <a name="a38"></a><a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>( nodeName + <span class="stringliteral">" invalid text level ("</span> + level + <span class="stringliteral">") for text item "</span> + i);</div>
<div class="line"> <span class="keywordflow">continue</span>;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%1.3f"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff,td.textStr.asChar(),ars[level].aspectRatio );</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 5:                     <span class="comment">//Maximum Distance</span></div>
<div class="line"> <span class="keywordflow">if</span> (options.maximumDistance &lt;= 0)</div>
<div class="line"> <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"max. dist %1.0f"</span>);</div>
<div class="line"></div>
<div class="line">            textColor = (maximumDist &gt;= options.maximumDistance) ? <a class="code" href="./class_m_color.html">MColor</a>(1,1,1,0) : textColor;</div>
<div class="line">            sprintf(buff, td.textStr.asChar(), maximumDist );</div>
<div class="line">            td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 6:                     <span class="comment">//Projection Gate</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (!filmback.displayProjGate)</div>
<div class="line"> <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">double</span> aspectRatio = (filmback.horizontalProjectionGate/filmback.verticalProjectionGate);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%1.3f"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff, td.textStr.asChar(), aspectRatio);</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 7:                     <span class="comment">//Show</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%s"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff, td.textStr.asChar(), getenv(<span class="stringliteral">"SHOW"</span>));</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 8:                     <span class="comment">//Show</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%s"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff, td.textStr.asChar(),  getenv(<span class="stringliteral">"SHOT"</span>));</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 9:                     <span class="comment">//Show/Shot</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%s/%s"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff, td.textStr.asChar(), getenv(<span class="stringliteral">"SHOW"</span>),getenv(<span class="stringliteral">"SHOT"</span>));</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 10:                        <span class="comment">//Frame Start</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%s"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff, td.textStr.asChar(),  getenv(<span class="stringliteral">"FS"</span>));</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 11:                        <span class="comment">//Frame End</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%s"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff, td.textStr.asChar(),  getenv(<span class="stringliteral">"FE"</span>));</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 12:                        <span class="comment">//Frame Range</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%s-%s"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff, td.textStr.asChar(), getenv(<span class="stringliteral">"FS"</span>), getenv(<span class="stringliteral">"FE"</span>));</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 13:                        <span class="comment">//User</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%s"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff, td.textStr.asChar(), getenv(<span class="stringliteral">"USER"</span>));</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 14:                        <span class="comment">//Current File</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%s"</span>);</div>
<div class="line"></div>
<div class="line">                sprintf(buff, td.textStr.asChar(), <a name="a39"></a><a class="code" href="./class_m_file_i_o.html#af6e560840ddbb341dac9706ec1e6404f">MFileIO::currentFile</a>().<a class="code" href="./class_m_string.html#aa9ab612f356c53479afc4c648c9ef94d">asChar</a>() );</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 15:                        <span class="comment">//Path</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%s"</span>);</div>
<div class="line"></div>
<div class="line"> <a name="_a40"></a><a class="code" href="./class_m_file_object.html">MFileObject</a> fo;</div>
<div class="line">                fo.<a name="a41"></a><a class="code" href="./class_m_file_object.html#ac14aefbfe38c2711256eb8c14a3194ee">setRawFullName</a>(<a class="code" href="./class_m_file_i_o.html#af6e560840ddbb341dac9706ec1e6404f">MFileIO::currentFile</a>());</div>
<div class="line">                sprintf(buff, td.textStr.asChar(), fo.<a name="a42"></a><a class="code" href="./class_m_file_object.html#a2c2258275416a1df772a23a569d84e78">expandedPath</a>().<a class="code" href="./class_m_string.html#aa9ab612f356c53479afc4c648c9ef94d">asChar</a>() );</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 16:                        <span class="comment">//Path</span></div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                    td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%s"</span>);</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_file_object.html">MFileObject</a> fo;</div>
<div class="line">                fo.<a class="code" href="./class_m_file_object.html#ac14aefbfe38c2711256eb8c14a3194ee">setRawFullName</a>(<a class="code" href="./class_m_file_i_o.html#af6e560840ddbb341dac9706ec1e6404f">MFileIO::currentFile</a>());</div>
<div class="line">                sprintf(buff, td.textStr.asChar(), fo.<a name="a43"></a><a class="code" href="./class_m_file_object.html#a614484d9028d9d09418b5e337c39b7a0">resolvedName</a>().<a class="code" href="./class_m_string.html#aa9ab612f356c53479afc4c648c9ef94d">asChar</a>() );</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">case</span> 17:                        <span class="comment">//Pan Scan Aspect Ratio</span></div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%1.2f"</span>);</div>
<div class="line"></div>
<div class="line">            sprintf(buff, td.textStr.asChar(), panScan.panScanRatio );</div>
<div class="line">            td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 18:                        <span class="comment">//Pan Scan Offset</span></div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                td.textStr = <a class="code" href="./class_m_string.html">MString</a>(<span class="stringliteral">"%1.2f"</span>);</div>
<div class="line"></div>
<div class="line">            sprintf(buff, td.textStr.asChar(), panScan.panScanOffset );</div>
<div class="line">            td.textStr = <a class="code" href="./class_m_string.html">MString</a>(buff);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 19:                        <span class="comment">//Safe Action</span></div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                td.textStr = <span class="stringliteral">"safe action"</span>;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 20:                        <span class="comment">//Safe Title</span></div>
<div class="line"> <span class="keywordflow">if</span> (td.textStr == <span class="stringliteral">""</span>)</div>
<div class="line">                td.textStr = <span class="stringliteral">"safe title"</span>;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">default</span>:</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>( nodeName + <span class="stringliteral">" invalid text type for text item "</span> + i);</div>
<div class="line"> <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Determine the level geometry</span></div>
<div class="line">        Geom g;</div>
<div class="line"> <span class="keywordflow">switch</span> (td.textLevel)</div>
<div class="line">        {</div>
<div class="line"> <span class="keywordflow">case</span> 0:</div>
<div class="line">            g = portGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 1:</div>
<div class="line">            g = pad.padGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 2:</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">switch</span> (td.textType)</div>
<div class="line">                {</div>
<div class="line"> <span class="keywordflow">case</span> 19:</div>
<div class="line"> <span class="keywordflow">if</span> (!filmback.safeActionGeom.isValid)</div>
<div class="line">                        drawData.calcFilmbackSafeActionGeom();</div>
<div class="line">                    g = filmback.safeActionGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 20:</div>
<div class="line"> <span class="keywordflow">if</span> (!filmback.safeTitleGeom.isValid)</div>
<div class="line">                        drawData.calcFilmbackSafeTitleGeom();</div>
<div class="line">                    g = filmback.safeTitleGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">default</span>:</div>
<div class="line">                    g = filmback.filmbackGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 3:</div>
<div class="line"> <span class="keywordflow">if</span> (!filmback.displayProjGate)</div>
<div class="line">            {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>( nodeName + <span class="stringliteral">" cannot anchor text item "</span> + i + <span class="stringliteral">" to undisplayed projection mask"</span>);</div>
<div class="line"> <span class="keywordflow">continue</span>;</div>
<div class="line">            }</div>
<div class="line">            g = filmback.projGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 4:</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordtype">int</span> level = td.textARLevel;</div>
<div class="line"> <span class="keywordflow">if</span> (level &lt; 0 || level &gt;= numAspectRatios)</div>
<div class="line">                {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>( nodeName + <span class="stringliteral">" invalid aspect ratio level ("</span> + td.textARLevel + <span class="stringliteral">") for text item "</span> + i);</div>
<div class="line"> <span class="keywordflow">continue</span>;</div>
<div class="line">                }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (!ars[level].aspectGeom.isValid)</div>
<div class="line"> <span class="keywordflow">continue</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">switch</span> (td.textType)</div>
<div class="line">                {</div>
<div class="line"> <span class="keywordflow">case</span> 19:</div>
<div class="line"> <span class="keywordflow">if</span> (!ars[level].safeActionGeom.isValid)</div>
<div class="line">                        drawData.calcSafeActionGeom(ars[level]);</div>
<div class="line">                    g = ars[level].safeActionGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 20:</div>
<div class="line"> <span class="keywordflow">if</span> (!ars[level].safeTitleGeom.isValid)</div>
<div class="line">                        drawData.calcSafeTitleGeom(ars[level]);</div>
<div class="line">                    g = ars[level].safeTitleGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">default</span>:</div>
<div class="line">                    g = ars[level].aspectGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 5:</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (!panScan.aspectGeom.isValid)</div>
<div class="line">                    drawData.calcPanScanGeom( panScan );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">switch</span> (td.textType)</div>
<div class="line">                {</div>
<div class="line"> <span class="keywordflow">case</span> 19:</div>
<div class="line"> <span class="keywordflow">if</span> (!panScan.safeActionGeom.isValid)</div>
<div class="line">                        drawData.calcSafeActionGeom(panScan);</div>
<div class="line">                    g = panScan.safeActionGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 20:</div>
<div class="line"> <span class="keywordflow">if</span> (!panScan.safeTitleGeom.isValid)</div>
<div class="line">                        drawData.calcSafeTitleGeom(panScan);</div>
<div class="line">                    g = panScan.safeTitleGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">default</span>:</div>
<div class="line">                    g = panScan.aspectGeom;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">default</span>:</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>( nodeName + <span class="stringliteral">" invalid text anchor for text item "</span> + i);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Determine the position</span></div>
<div class="line"> <span class="keywordtype">double</span> x,y;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">switch</span> (td.textPosRel)</div>
<div class="line">        {</div>
<div class="line"> <span class="keywordflow">case</span> 0:                     <span class="comment">//Bottom Left</span></div>
<div class="line">            x = g.x1;</div>
<div class="line">            y = g.y1;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 1:                     <span class="comment">//Bottom Center</span></div>
<div class="line">            x = (g.x1 + g.x2 ) / 2;</div>
<div class="line">            y = g.y1;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 2:                     <span class="comment">//Bottom Right</span></div>
<div class="line">            x = g.x2;</div>
<div class="line">            y = g.y1;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 3:                     <span class="comment">//Middle Left</span></div>
<div class="line">            x = g.x1;</div>
<div class="line">            y = (g.y1 + g.y2 ) / 2;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 4:                     <span class="comment">//Center</span></div>
<div class="line">            x = (g.x1 + g.x2 ) / 2;</div>
<div class="line">            y = (g.y1 + g.y2 ) / 2;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 5:                     <span class="comment">//Middle Right</span></div>
<div class="line">            x = g.x2;</div>
<div class="line">            y = (g.y1 + g.y2 ) / 2;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 6:                     <span class="comment">//Top Left</span></div>
<div class="line">            x = g.x1;</div>
<div class="line">            y = g.y2;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 7:                     <span class="comment">//Top Center</span></div>
<div class="line">            x = (g.x1 + g.x2 ) / 2;</div>
<div class="line">            y = g.y2;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> 8:                     <span class="comment">//Top Right</span></div>
<div class="line">            x = g.x2;</div>
<div class="line">            y = g.y2;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">default</span>:</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>( nodeName + <span class="stringliteral">" invalid text relative position ("</span> + td.textPosRel + <span class="stringliteral">") for text item "</span> + i);</div>
<div class="line"> <span class="keywordflow">continue</span>;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Add text position as offset</span></div>
<div class="line">        x += td.textPosX;</div>
<div class="line">        y += td.textPosY;</div>
<div class="line"></div>
<div class="line">        TextData newTd = td;</div>
<div class="line">        newTd.textPosX = x;</div>
<div class="line">        newTd.textPosY = y;</div>
<div class="line">        drawData.textWhenDraw.push_back(newTd);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> spReticleLoc::needToUpdateTextData( spReticleLocData&amp; drawData )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p = <a class="code" href="./class_m_plug.html">MPlug</a>( thisNode, Text );</div>
<div class="line"> <span class="keywordflow">return</span> ( drawData.text.size() != p.<a class="code" href="./class_m_plug.html#ae98c3fdbce1daefa127bae2fe66a187c">numElements</a>() );</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method retrieves all of the options settings.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::getOptions( Options&amp; options )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p;</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Check to see if drawing is enabled</span></div>
<div class="line">    p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, DrawingEnabled );</div>
<div class="line">    McheckStatus ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( options.drawingEnabled ), <span class="stringliteral">"spReticleLoc::getOptions drawingEnabled"</span> );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (options.drawingEnabled)</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Check to see if the text should be rendered;</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, EnableTextDrawing );</div>
<div class="line">        McheckStatus ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a>( options.enableTextDrawing), <span class="stringliteral">"spReticleLoc::getOptions enableTextDrawing"</span> );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Check to see if locator should filter for useSpReticle attribute</span></div>
<div class="line"> <span class="comment">// on the camera;</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, UseSpReticle );</div>
<div class="line">        McheckStatus ( p.getValue ( options.useSpRet  ), <span class="stringliteral">"spReticleLoc::getOptions useSpReticle"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display horizontal line option;</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, DisplayLineH );</div>
<div class="line">        McheckStatus ( p.getValue ( options.displayLineH  ), <span class="stringliteral">"spReticleLoc::getOptions displayLineH"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display vertical line option;</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, DisplayLineV );</div>
<div class="line">        McheckStatus ( p.getValue ( options.displayLineV  ), <span class="stringliteral">"spReticleLoc::getOptions displayLineV"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display horizontal thirds option;</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, DisplayThirdsH );</div>
<div class="line">        McheckStatus ( p.getValue ( options.displayThirdsH  ), <span class="stringliteral">"spReticleLoc::getOptions displayThirdsH"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display vertical thirds option;</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, DisplayThirdsV );</div>
<div class="line">        McheckStatus ( p.getValue ( options.displayThirdsV  ), <span class="stringliteral">"spReticleLoc::getOptions displayThirdsV"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display crosshair option;</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, DisplayCrosshair );</div>
<div class="line">        McheckStatus ( p.getValue ( options.displayCrosshair  ), <span class="stringliteral">"spReticleLoc::getOptions displayCrosshair"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Text Color;</span></div>
<div class="line">        stat = getColor (MiscTextColor, MiscTextTrans, options.textColor );</div>
<div class="line">        McheckStatus ( stat, <span class="stringliteral">"spReticleLoc::getOptions textColor"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Line Color;</span></div>
<div class="line">        stat = getColor ( LineColor, LineTrans, options.lineColor );</div>
<div class="line">        McheckStatus ( stat, <span class="stringliteral">"spReticleLoc::getOptions lineColor"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get whether to drive a camera or not;</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, DriveCameraAperture );</div>
<div class="line">        McheckStatus ( p.getValue ( options.driveCameraAperture  ), <span class="stringliteral">"spReticleLoc::getOptions driveCameraAperture"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the maximum distance attribute;</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, MaximumDistance );</div>
<div class="line">        McheckStatus ( p.getValue ( options.maximumDistance  ), <span class="stringliteral">"spReticleLoc::getOptions maximumDistance"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get whether to respect overscan or not;</span></div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode, UseOverscan );</div>
<div class="line">        McheckStatus ( p.getValue ( options.useOverscan  ), <span class="stringliteral">"spReticleLoc::getOptions useOverscan"</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Print the options to cerr</span></div>
<div class="line"> <span class="comment">//printOptions(drawData.options);</span></div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> spReticleLoc::setInternalValue( <span class="keyword">const</span> <a class="code" href="./class_m_plug.html">MPlug</a> &amp; plug, <span class="keyword">const</span> <a name="_a44"></a><a class="code" href="./class_m_data_handle.html">MDataHandle</a> &amp;    handle)</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">if</span> (plug == worldInverseMatrix || plug == isTemplated)</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line">    needRefresh = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Given two Geom instances, this calculates the mask area between them.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::drawMask( Geom g1, Geom g2, <a class="code" href="./class_m_color.html">MColor</a> color, <span class="keywordtype">bool</span> sides, <span class="keywordtype">double</span> ncp )</div>
<div class="line">{</div>
<div class="line"> <span class="keywordtype">double</span> z = -ncp;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Turn off z-depth test</span></div>
<div class="line">    glDisable( GL_DEPTH_TEST );</div>
<div class="line">    glDepthMask( GL_FALSE );</div>
<div class="line"></div>
<div class="line">    glBegin( GL_QUADS );</div>
<div class="line"></div>
<div class="line">        glColor4f( color.<a class="code" href="./class_m_color.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>, color.<a class="code" href="./class_m_color.html#a8cf17d727651616de6f2b79ef32170cd">g</a>, color.<a class="code" href="./class_m_color.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>, 1-color.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a> );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Bottom Mask</span></div>
<div class="line">        glVertex3d( g1.x1, g1.y1, z );</div>
<div class="line">        glVertex3d( g1.x2, g1.y1, z );</div>
<div class="line">        glVertex3d( g2.x2, g2.y1, z );</div>
<div class="line">        glVertex3d( g2.x1, g2.y1, z );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Top Mask</span></div>
<div class="line">        glVertex3d( g2.x1, g2.y2, z );</div>
<div class="line">        glVertex3d( g2.x2, g2.y2, z );</div>
<div class="line">        glVertex3d( g1.x2, g1.y2, z );</div>
<div class="line">        glVertex3d( g1.x1, g1.y2, z );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (sides)</div>
<div class="line">        {</div>
<div class="line"> <span class="comment">// Left side mask</span></div>
<div class="line">            glVertex3d( g1.x1, g1.y1, z );</div>
<div class="line">            glVertex3d( g2.x1, g2.y1, z );</div>
<div class="line">            glVertex3d( g2.x1, g2.y2, z );</div>
<div class="line">            glVertex3d( g1.x1, g1.y2, z );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// right side mask</span></div>
<div class="line">            glVertex3d( g2.x2, g2.y1, z );</div>
<div class="line">            glVertex3d( g1.x2, g1.y1, z );</div>
<div class="line">            glVertex3d( g1.x2, g1.y2, z );</div>
<div class="line">            glVertex3d( g2.x2, g2.y2, z );</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">    glEnd();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Turn on z-depth test</span></div>
<div class="line">    glDepthMask( GL_TRUE );</div>
<div class="line">    glEnable( GL_DEPTH_TEST );</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This draws a single line between the specified points.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::drawLine( <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> x2, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> y2, <a class="code" href="./class_m_color.html">MColor</a> color, <span class="keywordtype">bool</span> stipple, <span class="keywordtype">double</span> ncp )</div>
<div class="line">{</div>
<div class="line"> <span class="keywordtype">double</span> z = -ncp;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Turn off z-depth test</span></div>
<div class="line">    glDisable( GL_DEPTH_TEST );</div>
<div class="line">    glDepthMask( GL_FALSE );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (stipple)</div>
<div class="line">    {</div>
<div class="line">        glEnable (GL_LINE_STIPPLE);</div>
<div class="line">        glLineStipple(2,0x00FF);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    glBegin( GL_LINES );</div>
<div class="line"></div>
<div class="line">        glColor4f( color.<a class="code" href="./class_m_color.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>, color.<a class="code" href="./class_m_color.html#a8cf17d727651616de6f2b79ef32170cd">g</a>, color.<a class="code" href="./class_m_color.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>, 1-color.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a> );</div>
<div class="line"></div>
<div class="line">        glVertex3d( x1, y1, z );</div>
<div class="line">        glVertex3d( x2, y2, z );</div>
<div class="line"></div>
<div class="line">    glEnd();</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (stipple)</div>
<div class="line">        glDisable (GL_LINE_STIPPLE);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Turn on z-depth test</span></div>
<div class="line">    glDepthMask( GL_TRUE );</div>
<div class="line">    glEnable( GL_DEPTH_TEST );</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Given a Geom instance, this will draw a line connecting the points.</span></div>
<div class="line"><span class="comment">// The argument side determines whether the sides will be drawn (the top</span></div>
<div class="line"><span class="comment">// will always be drawn). The stipple argument specifies whether the line</span></div>
<div class="line"><span class="comment">// should be solid or dashed/stippled.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::drawLines( Geom g, <a class="code" href="./class_m_color.html">MColor</a> color, <span class="keywordtype">bool</span> sides, <span class="keywordtype">bool</span> stipple, <span class="keywordtype">double</span> ncp )</div>
<div class="line">{</div>
<div class="line"> <span class="keywordtype">double</span> z = -ncp;</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Turn off z-depth test</span></div>
<div class="line">    glDisable( GL_DEPTH_TEST );</div>
<div class="line">    glDepthMask( GL_FALSE );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (stipple)</div>
<div class="line">    {</div>
<div class="line">        glEnable (GL_LINE_STIPPLE);</div>
<div class="line">        glLineStipple(2,0x00FF);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    GLenum mode = ( sides ) ? GL_LINE_LOOP : GL_LINES;</div>
<div class="line"></div>
<div class="line">    glBegin( mode );</div>
<div class="line"></div>
<div class="line">        glColor4f( color.<a class="code" href="./class_m_color.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>, color.<a class="code" href="./class_m_color.html#a8cf17d727651616de6f2b79ef32170cd">g</a>, color.<a class="code" href="./class_m_color.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>, 1-color.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a> );</div>
<div class="line"></div>
<div class="line">        glVertex3d( g.x1, g.y1, z );</div>
<div class="line">        glVertex3d( g.x2, g.y1, z );</div>
<div class="line">        glVertex3d( g.x2, g.y2, z );</div>
<div class="line">        glVertex3d( g.x1, g.y2, z );</div>
<div class="line"></div>
<div class="line">    glEnd( );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (stipple)</div>
<div class="line">        glDisable (GL_LINE_STIPPLE);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Turn on z-depth test</span></div>
<div class="line">    glDepthMask( GL_TRUE );</div>
<div class="line">    glEnable( GL_DEPTH_TEST );</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function uses Maya's built-in function to draw text. At somepoint</span></div>
<div class="line"><span class="comment">// I hope to use glut or glFT to draw text.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::drawText( <a class="code" href="./class_m_string.html">MString</a> text, <span class="keywordtype">double</span> tx, <span class="keywordtype">double</span> ty,</div>
<div class="line"> <a class="code" href="./class_m_color.html">MColor</a> textColor, <a class="code" href="./class_m3d_view.html#a8e0d441725a81d2bbdebbea09078260e">M3dView::TextPosition</a> textAlign,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html">M3dView</a> &amp; view, <a class="code" href="./class_m_matrix.html">MMatrix</a> wim )</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Turn off z-depth test</span></div>
<div class="line">    glDisable( GL_DEPTH_TEST );</div>
<div class="line">    glDepthMask( GL_FALSE );</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a> textPos = getPoint((<span class="keywordtype">float</span>)tx, (<span class="keywordtype">float</span>)ty, view, wim);</div>
<div class="line">    glColor4f( textColor.<a class="code" href="./class_m_color.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>, textColor.<a class="code" href="./class_m_color.html#a8cf17d727651616de6f2b79ef32170cd">g</a>, textColor.<a class="code" href="./class_m_color.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>, 1-textColor.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a> );</div>
<div class="line"></div>
<div class="line">    _OPENMAYA_DEPRECATION_PUSH_AND_DISABLE_WARNING</div>
<div class="line">    view.<a name="a45"></a><a class="code" href="./class_m3d_view.html#a1d533091a31a590ee4599fde04fa65d7">drawText</a>(text, textPos, textAlign);</div>
<div class="line">    _OPENMAYA_POP_WARNING</div>
<div class="line"></div>
<div class="line">    glFlush(); <span class="comment">// added by sjt@sjt.is (May 2010).</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// Turn on z-depth test</span></div>
<div class="line">    glDepthMask( GL_TRUE );</div>
<div class="line">    glEnable( GL_DEPTH_TEST );</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::drawCustomTextElements( std::vector&lt;TextData&gt; textWhenDraw, <a class="code" href="./class_m_matrix.html">MMatrix</a> wim, <a class="code" href="./class_m3d_view.html">M3dView</a> &amp; view )</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; textWhenDraw.size(); ++i)</div>
<div class="line">    {</div>
<div class="line">        TextData td = textWhenDraw[i];</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Actually draw the text</span></div>
<div class="line">        drawText( td.textStr, td.textPosX, td.textPosY, td.textColor, (<a class="code" href="./class_m3d_view.html#a8e0d441725a81d2bbdebbea09078260e">M3dView::TextPosition</a>)td.textAlign, view, wim);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This is the main function which draws the locator. It is called</span></div>
<div class="line"><span class="comment">// by Maya whenever a 3D view needs to be refreshed.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::draw(<a class="code" href="./class_m3d_view.html">M3dView</a> &amp; view, <span class="keyword">const</span> <a name="_a46"></a><a class="code" href="./class_m_dag_path.html">MDagPath</a> &amp; path,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#a1b68f8823b8e275a4b548fdd27263e8a">M3dView::DisplayStyle</a> style,</div>
<div class="line"> <a class="code" href="./class_m3d_view.html#ad9c34c5373567566950642c16a7c4bca">M3dView::DisplayStatus</a> status)</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Get the dagPath, node and function set for the currently displaying camera</span></div>
<div class="line"> <a class="code" href="./class_m_dag_path.html">MDagPath</a> cameraPath;</div>
<div class="line">    view.<a name="a47"></a><a class="code" href="./class_m3d_view.html#a5e6ea41ec1bab5ed980b2ddffe398a73">getCamera</a>(cameraPath);</div>
<div class="line"></div>
<div class="line">    spReticleLocData drawData;</div>
<div class="line">    getDrawData(drawData,cameraPath,<span class="keywordtype">double</span>(view.<a name="a48"></a><a class="code" href="./class_m3d_view.html#a419e60769b8303476d6d25853b3b5f6f">portHeight</a>()),<span class="keywordtype">double</span>(view.<a name="a49"></a><a class="code" href="./class_m3d_view.html#a09f01ebd9a52d4e74196c90fd3c1316c">portWidth</a>()));</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Drawing not enabled, return</span></div>
<div class="line"> <span class="keywordflow">if</span> (!drawData.options.drawingEnabled)</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If camera is orthographic, then return</span></div>
<div class="line"> <span class="keywordflow">if</span> (drawData.cameraData.isOrtho) </div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If camera is not set to use reticle then return</span></div>
<div class="line"> <span class="keywordflow">if</span>(drawData.options.useSpRet){</div>
<div class="line"> <span class="keywordflow">if</span> (!drawData.useReticle)</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">//get cached data</span></div>
<div class="line"> <span class="keywordtype">double</span>                      ncp             =drawData.ncp;</div>
<div class="line"> <span class="keywordtype">double</span>                      maximumDist     =drawData.maximumDist;                                                   </div>
<div class="line">    Options                     options         =drawData.options;                                                       </div>
<div class="line"> <a class="code" href="./class_m_matrix.html">MMatrix</a>                     wim             =drawData.wim;</div>
<div class="line"> <span class="keywordtype">int</span>                         numAspectRatios =drawData.numAspectRatios;                                                                                                       </div>
<div class="line">    Geom                        portGeom        =drawData.portGeom;                                                          </div>
<div class="line">    std::vector&lt;Aspect_Ratio&gt;   ars             =drawData.ars;                                                           </div>
<div class="line">    PadOptions                  pad             =drawData.pad;      </div>
<div class="line">    Filmback                    filmback        =drawData.filmback;</div>
<div class="line">    PanScan                     panScan         =drawData.panScan;</div>
<div class="line">    std::vector&lt;TextData&gt;       textWhenDraw    =drawData.textWhenDraw;</div>
<div class="line"> <span class="comment">//CameraData                    camera          =drawDa</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// Begin drawing locator</span></div>
<div class="line">    _OPENMAYA_DEPRECATION_PUSH_AND_DISABLE_WARNING</div>
<div class="line">    view.<a name="a50"></a><a class="code" href="./class_m3d_view.html#a0e318e5634c7aaf31c4eb7232d2013d4">beginGL</a>();</div>
<div class="line">    _OPENMAYA_POP_WARNING</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get current line settings</span></div>
<div class="line"> <span class="comment">//glLineWidth(1);</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// Store all of the openGL attribute settings</span></div>
<div class="line">    glPushAttrib( GL_ALL_ATTRIB_BITS );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Go into 2D ortho mode</span></div>
<div class="line">    glMatrixMode( GL_MODELVIEW );</div>
<div class="line">    glPushMatrix();</div>
<div class="line"></div>
<div class="line">    glMatrixMode( GL_PROJECTION );</div>
<div class="line">    glPushMatrix();</div>
<div class="line">    glLoadIdentity();</div>
<div class="line">    glOrtho(</div>
<div class="line">        0.0, (GLdouble) view.<a class="code" href="./class_m3d_view.html#a09f01ebd9a52d4e74196c90fd3c1316c">portWidth</a>(),</div>
<div class="line">        0.0, (GLdouble) view.<a class="code" href="./class_m3d_view.html#a419e60769b8303476d6d25853b3b5f6f">portHeight</a>(),</div>
<div class="line">        drawData.cameraData.nearClippingPlane, drawData.cameraData.farClippingPlane</div>
<div class="line"> <span class="comment">//0.0, camera.farClippingPlane()</span></div>
<div class="line">        );</div>
<div class="line">    glMatrixMode( GL_MODELVIEW );</div>
<div class="line">    glLoadIdentity();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Turn on openGL blending for transparency</span></div>
<div class="line">    glEnable(GL_BLEND);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Store the current blend types</span></div>
<div class="line">    GLint blendAttrs[2];</div>
<div class="line">    glGetIntegerv(GL_BLEND_SRC, &amp; blendAttrs[0]);</div>
<div class="line">    glGetIntegerv(GL_BLEND_DST, &amp; blendAttrs[1]);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Set the blending function</span></div>
<div class="line">    glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// create variable to store what the first geometry object to draw aspect ratios to</span></div>
<div class="line">    Geom aspectContainerGeom;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the padGeomMask</span></div>
<div class="line"> <span class="keywordflow">if</span> (pad.usePad &amp;&amp; pad.isPadded)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (pad.displayMode == 2)</div>
<div class="line">            drawMask(portGeom, pad.padGeom, pad.padGeom.maskColor, <span class="keyword">true</span>, ncp);</div>
<div class="line">        aspectContainerGeom = pad.padGeom;</div>
<div class="line">    }</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        aspectContainerGeom = portGeom;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the masks first</span></div>
<div class="line">    Aspect_Ratio ar;</div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numAspectRatios; i++ )</div>
<div class="line">    {</div>
<div class="line">        ar = ars[i];</div>
<div class="line"> <span class="comment">// Draw the masks as Quads</span></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displayMode == 2)</div>
<div class="line">        {</div>
<div class="line">            Geom g = (i == 0)?aspectContainerGeom:ars[i-1].aspectGeom;</div>
<div class="line"> <a class="code" href="./class_m_color.html">MColor</a> maskColor = ar.aspectGeom.maskColor;</div>
<div class="line"> <span class="comment">// Draw the mask in red if over the max distance</span></div>
<div class="line"> <span class="keywordflow">if</span> (options.maximumDistance &gt; 0 &amp;&amp;</div>
<div class="line">                fabs(maximumDist) &gt;= options.maximumDistance)</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (i == 0)</div>
<div class="line">                {</div>
<div class="line">                    maskColor = <a class="code" href="./class_m_color.html">MColor</a>(1,0,0,maskColor.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a>);</div>
<div class="line">                }</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    maskColor *= <a class="code" href="./class_m_color.html">MColor</a>(1.5,0.5,0.5,1);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            drawMask(g, ar.aspectGeom, maskColor, i == 0, ncp);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw lines</span></div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numAspectRatios; i++ )</div>
<div class="line">    {</div>
<div class="line">        ar = ars[i];</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displayMode != 0)</div>
<div class="line">        {</div>
<div class="line"> <span class="keywordtype">bool</span> sides = (i == 0 || ar.aspectGeom.x != ars[i].aspectGeom.x);</div>
<div class="line">            drawLines(ar.aspectGeom, ar.aspectGeom.lineColor, sides, 0, ncp);</div>
<div class="line"> <span class="comment">// Draw safe action</span></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displaySafeAction)</div>
<div class="line">                drawLines( ar.safeActionGeom, ar.safeActionGeom.lineColor, 1, 1, ncp);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw safe title</span></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displaySafeTitle)</div>
<div class="line">                drawLines( ar.safeTitleGeom, ar.safeTitleGeom.lineColor, 1, 1, ncp);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the panScan</span></div>
<div class="line"> <span class="keywordflow">if</span> ( panScan.displayMode != 0 )</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (panScan.displayMode == 2)</div>
<div class="line">            drawMask(ars[0].aspectGeom, panScan.aspectGeom, panScan.aspectGeom.maskColor, <span class="keyword">true</span>, ncp);</div>
<div class="line"></div>
<div class="line">        drawLines(panScan.aspectGeom, panScan.aspectGeom.lineColor, 1, 0, ncp);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw safe action</span></div>
<div class="line"> <span class="keywordflow">if</span> (panScan.displaySafeAction)</div>
<div class="line">        {</div>
<div class="line">            drawLines( panScan.safeActionGeom, panScan.safeActionGeom.lineColor, 1, 1, ncp);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw safe title</span></div>
<div class="line"> <span class="keywordflow">if</span> (panScan.displaySafeTitle)</div>
<div class="line">        {</div>
<div class="line">            drawLines( panScan.safeTitleGeom, panScan.safeTitleGeom.lineColor, 1, 1, ncp);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the filmback</span></div>
<div class="line"> <span class="keywordflow">if</span> ( filmback.displayFilmGate )</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Draw filmback</span></div>
<div class="line">        drawLines(filmback.filmbackGeom, filmback.filmbackGeom.lineColor, 1, 0, ncp);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw Sound Area Line</span></div>
<div class="line"> <span class="keywordflow">if</span> ( filmback.soundTrackWidth != 0 )</div>
<div class="line">            drawLine(filmback.imageGeom.x1, filmback.imageGeom.x1, filmback.imageGeom.y1, filmback.imageGeom.y2, filmback.imageGeom.lineColor, 0, ncp);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw filmback safe action</span></div>
<div class="line"> <span class="keywordflow">if</span> (filmback.displaySafeAction)</div>
<div class="line">    {</div>
<div class="line">        drawLines( filmback.safeActionGeom, filmback.safeActionGeom.lineColor, 1, 1, ncp);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw filmback safe title</span></div>
<div class="line"> <span class="keywordflow">if</span> (filmback.displaySafeTitle)</div>
<div class="line">    {</div>
<div class="line">        drawLines( filmback.safeTitleGeom, filmback.safeTitleGeom.lineColor, 1, 1, ncp);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the projection gate</span></div>
<div class="line"> <span class="keywordflow">if</span> ( filmback.displayProjGate )</div>
<div class="line">    {</div>
<div class="line">        drawLines(filmback.projGeom, filmback.projGeom.lineColor, 1, 1, ncp);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display horizontal line</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.displayLineH )</div>
<div class="line">    {</div>
<div class="line">        drawLine( filmback.imageGeom.x1, filmback.imageGeom.x2, portGeom.y, portGeom.y, options.lineColor, 0, ncp);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display vertical line</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.displayLineV )</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">double</span> cx = ( filmback.imageGeom.x1 + filmback.imageGeom.x2 ) / 2;</div>
<div class="line">        drawLine( cx, cx, filmback.imageGeom.y1, filmback.imageGeom.y2, options.lineColor, 0, ncp);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display Horizontal Thirds</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.displayThirdsH)</div>
<div class="line">    {</div>
<div class="line">        Geom g = (numAspectRatios &gt; 0)?ars[0].aspectGeom:portGeom;</div>
<div class="line"> <span class="keywordtype">double</span> y1 = g.y1+ ( ( g.y2 - g.y1 ) * 0.33 );</div>
<div class="line"> <span class="keywordtype">double</span> y2 = g.y1+ ( ( g.y2 - g.y1 ) * 0.66 );</div>
<div class="line">        drawLine( g.x1, g.x2, y1, y1, options.lineColor, 0, ncp);</div>
<div class="line">        drawLine( g.x1, g.x2, y2, y2, options.lineColor, 0, ncp);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display Vertical Thirds</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.displayThirdsV)</div>
<div class="line">    {</div>
<div class="line">        Geom g = (numAspectRatios &gt; 0)?ars[0].aspectGeom:portGeom;</div>
<div class="line"> <span class="keywordtype">double</span> x1 = g.x1+ ( ( g.x2 - g.x1 ) * 0.33 );</div>
<div class="line"> <span class="keywordtype">double</span> x2 = g.x1+ ( ( g.x2 - g.x1 ) * 0.66 );</div>
<div class="line">        drawLine( x1, x1, g.y1, g.y2, options.lineColor, 0, ncp);</div>
<div class="line">        drawLine( x2, x2, g.y1, g.y2, options.lineColor, 0, ncp);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display crosshair</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.displayCrosshair )</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">double</span> cx = ( filmback.imageGeom.x1 + filmback.imageGeom.x2 ) / 2;</div>
<div class="line">        drawLine( cx-25, cx-5, portGeom.y, portGeom.y, options.lineColor, 0 ,ncp);</div>
<div class="line">        drawLine( cx+25, cx+5, portGeom.y, portGeom.y, options.lineColor, 0 ,ncp);</div>
<div class="line">        drawLine( cx, cx, portGeom.y-25, portGeom.y-5, options.lineColor, 0 ,ncp);</div>
<div class="line">        drawLine( cx, cx, portGeom.y+25, portGeom.y+5, options.lineColor, 0 ,ncp);</div>
<div class="line">    }                                                                       </div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display the pad area</span></div>
<div class="line"> <span class="keywordflow">if</span> (pad.usePad &amp;&amp; pad.isPadded &amp;&amp; pad.displayMode &gt; 0)</div>
<div class="line">    {</div>
<div class="line">        drawLines(pad.padGeom, pad.padGeom.lineColor, 1, 0, ncp);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw custom text elements</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.enableTextDrawing)</div>
<div class="line">        drawCustomTextElements(textWhenDraw,wim,view);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Turn off blending</span></div>
<div class="line">    glDisable(GL_BLEND);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Restore blend settings</span></div>
<div class="line">    glBlendFunc(blendAttrs[0], blendAttrs[1]);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Re-enable z-depth testing.</span></div>
<div class="line"> <span class="comment">// Note: Moved up to drawMask() due to hack because of Maya</span></div>
<div class="line"> <span class="comment">//glDepthMask( GL_TRUE );</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// Restore matrix</span></div>
<div class="line">    glMatrixMode( GL_PROJECTION );</div>
<div class="line">    glPopMatrix();</div>
<div class="line">    glMatrixMode( GL_MODELVIEW );</div>
<div class="line">    glPopMatrix();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Restore all attributes</span></div>
<div class="line">    glPopAttrib();</div>
<div class="line"> </div>
<div class="line">    _OPENMAYA_DEPRECATION_PUSH_AND_DISABLE_WARNING</div>
<div class="line"> <span class="comment">// End of openGL calls</span></div>
<div class="line">    view.<a name="a51"></a><a class="code" href="./class_m3d_view.html#ab810c5a46d728df70ff5f44b604559f4">endGL</a>();</div>
<div class="line">    _OPENMAYA_POP_WARNING</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Make a huge bounding box</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><a name="_a52"></a><a class="code" href="./class_m_bounding_box.html">MBoundingBox</a> spReticleLoc::boundingBox()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="keywordflow">return</span> <a class="code" href="./class_m_bounding_box.html">MBoundingBox</a>(<a class="code" href="./class_m_point.html">MPoint</a>(-1000000,-1000000,-1000000),</div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a>(1000000,1000000,1000000));</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This function returns whether this locator should be effected by the</span></div>
<div class="line"><span class="comment">// Display locators toggle in Maya. It is dependent upon the hideLocator</span></div>
<div class="line"><span class="comment">// option.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">bool</span> spReticleLoc::excludeAsLocator()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="comment">// Check to see locator should be hidden with other locators</span></div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> thisNode = thisMObject();</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p(thisNode, HideLocator);</div>
<div class="line"> <span class="keywordtype">bool</span> hideLocator;</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat = p.getValue(hideLocator);</div>
<div class="line"> <span class="keywordflow">if</span> (!stat)</div>
<div class="line">        stat.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"spReticleLoc::excludeAsLocator hideLocator"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> hideLocator;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method is called just after a particular instance of the node has</span></div>
<div class="line"><span class="comment">// been created. It automatically sources the proper scripts and sets the</span></div>
<div class="line"><span class="comment">// loadDefault argument to 1, indicating that the first time the locator</span></div>
<div class="line"><span class="comment">// is drawn that it should first load the default settings for the locator.</span></div>
<div class="line"><span class="comment">// This functionality allows either the show or facility to set standards</span></div>
<div class="line"><span class="comment">// on the locator.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::postConstructor()</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Tell Maya to draw this in the transparent queue</span></div>
<div class="line"><span class="preprocessor">#if MAYA_API_VERSION &lt; 850</span></div>
<div class="line"><span class="preprocessor">#ifndef WIN32</span></div>
<div class="line">    setTranspHandler( (TranspHandler)(&amp;spReticleLoc::isTransparent) );</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> <span class="comment">// Load defaults</span></div>
<div class="line">    loadDefault = 1;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Set Refresh</span></div>
<div class="line">    needRefresh = <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> * spReticleLoc::creator()</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">new</span> spReticleLoc();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> spReticleLoc::initialize()</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a>              stat;</div>
<div class="line"> <a name="_a53"></a><a class="code" href="./class_m_fn_numeric_attribute.html">MFnNumericAttribute</a>  nAttr;</div>
<div class="line"> <a name="_a54"></a><a class="code" href="./class_m_fn_enum_attribute.html">MFnEnumAttribute</a>     eAttr;</div>
<div class="line"> <a name="_a55"></a><a class="code" href="./class_m_fn_compound_attribute.html">MFnCompoundAttribute</a> cAttr;</div>
<div class="line"> <a name="_a56"></a><a class="code" href="./class_m_fn_unit_attribute.html">MFnUnitAttribute</a>     uAttr;</div>
<div class="line"> <a name="_a57"></a><a class="code" href="./class_m_fn_typed_attribute.html">MFnTypedAttribute</a>    tAttr;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Define a default empty string</span></div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> defaultString(<span class="stringliteral">""</span>);</div>
<div class="line"> <a name="_a58"></a><a class="code" href="./class_m_fn_string_data.html">MFnStringData</a> defaultTextData;</div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> defaultTextAttr = defaultTextData.<a name="a59"></a><a class="code" href="./class_m_fn_string_data.html#a2a76d6e5a305b483c5d9b8444fb79126">create</a>(defaultString);</div>
<div class="line"></div>
<div class="line">    DrawingEnabled = nAttr.<a name="a60"></a><a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"drawingEnabled"</span>, <span class="stringliteral">"en"</span>, <a name="a61"></a><a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, 1, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create drawingEnabled attribute"</span>);</div>
<div class="line">    nAttr.<a name="a62"></a><a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    EnableTextDrawing = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"enableTextDrawing"</span>, <span class="stringliteral">"etd"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, 1, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create enableTextDrawing attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">HorizontalFilmAperture = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"horizontalFilmAperture"</span>, <span class="stringliteral">"hfa"</span>, <a name="a63"></a><a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.864, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create horizontalFilmAperture attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    VerticalFilmAperture = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"verticalFilmAperture"</span>, <span class="stringliteral">"vfa"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.630, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create verticalFilmAperture attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    FilmbackAperture = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"filmbackAperture"</span>, <span class="stringliteral">"cap"</span>, HorizontalFilmAperture, VerticalFilmAperture, <a name="a64"></a><a class="code" href="./class_m_object.html#af2a707b4254eb54763167aeced863e63">MObject::kNullObj</a>, &amp;stat );</div>
<div class="line">    nAttr.<a name="a65"></a><a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 0.864, 0.630 );</div>
<div class="line"></div>
<div class="line">    SoundTrackWidth = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"soundTrackWidth"</span>, <span class="stringliteral">"stw"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.0, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create soundTrackWidth attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    DisplayFilmGate = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"displayFilmGate"</span>, <span class="stringliteral">"dfg"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create displayFilmGate attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    HorizontalProjectionGate = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"horizontalProjectionGate"</span>, <span class="stringliteral">"hpg"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.825, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create horizontalProjectionGate attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    VerticalProjectionGate = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"verticalProjectionGate"</span>, <span class="stringliteral">"vpg"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.446, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create verticalProjectionGate attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    ProjectionGate = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"projectionGate"</span>, <span class="stringliteral">"pg"</span>, HorizontalProjectionGate, VerticalProjectionGate, <a class="code" href="./class_m_object.html#af2a707b4254eb54763167aeced863e63">MObject::kNullObj</a>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 0.825, 0.446 );</div>
<div class="line"></div>
<div class="line">    DisplayProjectionGate = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"displayProjGate"</span>, <span class="stringliteral">"dpg"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create displayProjGate attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    HorizontalSafeAction = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"horizontalSafeAction"</span>, <span class="stringliteral">"hsa"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.713, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create horizontalSafeAction attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    VerticalSafeAction = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"verticalSafeAction"</span>, <span class="stringliteral">"vsa"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.535, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create verticalSafeAction attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    SafeAction = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"safeAction"</span>, <span class="stringliteral">"sa"</span>, HorizontalSafeAction, VerticalSafeAction, <a class="code" href="./class_m_object.html#af2a707b4254eb54763167aeced863e63">MObject::kNullObj</a>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 0.713, 0.535 );</div>
<div class="line"></div>
<div class="line">    DisplaySafeAction = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"displaySafeAction"</span>, <span class="stringliteral">"dsa"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create displaySafeAction attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    HorizontalSafeTitle = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"horizontalSafeTitle"</span>, <span class="stringliteral">"hst"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.630, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create horizontalSafeTitle attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    VerticalSafeTitle = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"verticalSafeTitle"</span>, <span class="stringliteral">"vst"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.475, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create verticalSafeTitle attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    SafeTitle = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"safeTitle"</span>, <span class="stringliteral">"st"</span>, HorizontalSafeTitle, VerticalSafeTitle, <a class="code" href="./class_m_object.html#af2a707b4254eb54763167aeced863e63">MObject::kNullObj</a>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 0.630, 0.475 );</div>
<div class="line"></div>
<div class="line">    DisplaySafeTitle = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"displaySafeTitle"</span>, <span class="stringliteral">"dst"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create displaySafeTitle attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    AspectRatio = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"aspectRatio"</span>, <span class="stringliteral">"ar"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 1.85, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create aspectRatio attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    DisplayMode = eAttr.<a name="a66"></a><a class="code" href="./class_m_fn_enum_attribute.html#a6bbfd35f997fda13f9a5824bc1fc6af7">create</a>( <span class="stringliteral">"displayMode"</span>, <span class="stringliteral">"dm"</span>, 2, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create displayMode attribute"</span>);</div>
<div class="line">    eAttr.<a name="a67"></a><a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"none"</span>, 0);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"lines"</span>, 1);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Transparent Mask"</span>, 2);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    AspectMaskColor = nAttr.<a name="a68"></a><a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"aspectMaskColor"</span>, <span class="stringliteral">"amc"</span>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 0.0, 0.0, 0.0 );</div>
<div class="line">    nAttr.<a name="a69"></a><a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    AspectMaskTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"aspectMaskTrans"</span>, <span class="stringliteral">"amt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.75, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create aspectMaskTrans attribute"</span>);</div>
<div class="line">    nAttr.<a name="a70"></a><a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a name="a71"></a><a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    AspectLineColor = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"aspectLineColor"</span>, <span class="stringliteral">"alc"</span>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 0.8, 0.8, 0.8 );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    AspectLineTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"aspectLineTrans"</span>, <span class="stringliteral">"alt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.0, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create aspectLineTrans attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    AspectDisplaySafeTitle = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"aspectDisplaySafeTitle"</span>, <span class="stringliteral">"adst"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create aspectDisplaySafeTitle attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    AspectDisplaySafeAction = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"aspectDisplaySafeAction"</span>, <span class="stringliteral">"adsa"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create aspectDisplaySafeAction attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    AspectRatios = cAttr.<a name="a72"></a><a class="code" href="./class_m_fn_compound_attribute.html#a94a6d5e93a85fb18bc7accc18ee0d9f6">create</a>( <span class="stringliteral">"aspectRatios"</span>, <span class="stringliteral">"ars"</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create aspectRatios attribute"</span>);</div>
<div class="line">    cAttr.<a name="a73"></a><a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( AspectRatio );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( DisplayMode );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( AspectMaskColor );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( AspectMaskTrans );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( AspectLineColor );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( AspectLineTrans );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( AspectDisplaySafeAction );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( AspectDisplaySafeTitle );</div>
<div class="line">    cAttr.<a name="a74"></a><a class="code" href="./class_m_fn_attribute.html#acc80b84249f9c028f2c6d085a026b50c">setArray</a>( <span class="keyword">true</span> );</div>
<div class="line">    cAttr.<a name="a75"></a><a class="code" href="./class_m_fn_attribute.html#a74dfd22a2b7f8ff6eeacb6e32d142c28">setIndexMatters</a>( <span class="keyword">true</span> );</div>
<div class="line"></div>
<div class="line">    PanScanAspectRatio = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"panScanAspectRatio"</span>, <span class="stringliteral">"psar"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, -1, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create panScanAspectRatio attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PanScanDisplayMode = eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a6bbfd35f997fda13f9a5824bc1fc6af7">create</a>( <span class="stringliteral">"panScanDisplayMode"</span>, <span class="stringliteral">"psdm"</span>, 0, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create panScanDisplayMode attribute"</span>);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"none"</span>, 0);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"lines"</span>, 1);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Transparent Mask"</span>, 2);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PanScanDisplaySafeTitle = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"panScanDisplaySafeTitle"</span>, <span class="stringliteral">"psdst"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create panScanDisplaySafeTitle attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PanScanDisplaySafeAction = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"panScanDisplaySafeAction"</span>, <span class="stringliteral">"psdsa"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create panScanDisplaySafeAction attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PanScanMaskColor = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"panScanMaskColor"</span>, <span class="stringliteral">"psmc"</span>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 1.0, 1.0, 0.8 );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PanScanMaskTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"panScanMaskTrans"</span>, <span class="stringliteral">"psmt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.85, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create panScanMaskTrans attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PanScanLineColor = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"panScanLineColor"</span>, <span class="stringliteral">"pslc"</span>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 1.0, 1.0, 0.0 );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PanScanLineTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"panScanLineTrans"</span>, <span class="stringliteral">"pslt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.5, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create panScanLineTrans attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PanScanRatio = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"panScanRatio"</span>, <span class="stringliteral">"psr"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 1.33, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create panScanRatio attribute"</span>);</div>
<div class="line">    nAttr.<a name="a76"></a><a class="code" href="./class_m_fn_attribute.html#a9e68a8b4af016b37f6567cfa6d68e551">setKeyable</a>(<span class="keyword">true</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PanScanOffset = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"panScanOffset"</span>, <span class="stringliteral">"pso"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.0, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create panScanOffset attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a9e68a8b4af016b37f6567cfa6d68e551">setKeyable</a>(<span class="keyword">true</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(-1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PanScanAttr = cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a94a6d5e93a85fb18bc7accc18ee0d9f6">create</a>( <span class="stringliteral">"panScan"</span>, <span class="stringliteral">"ps"</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create panScan attribute"</span>);</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PanScanAspectRatio );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PanScanDisplayMode );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PanScanMaskColor );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PanScanMaskTrans );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PanScanLineColor );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PanScanLineTrans );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PanScanDisplaySafeAction );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PanScanDisplaySafeTitle );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PanScanRatio );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PanScanOffset );</div>
<div class="line"></div>
<div class="line">    TextType = eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a6bbfd35f997fda13f9a5824bc1fc6af7">create</a>( <span class="stringliteral">"textType"</span>, <span class="stringliteral">"ttyp"</span>, 0, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create textType attribute"</span>);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"String"</span>, 0);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Lens"</span>, 1);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Camera"</span>, 2);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Frame"</span>, 3);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Aspect Ratio"</span>, 4);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Max. Distance"</span>, 5);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Proj. Gate"</span>, 6);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Show"</span>, 7);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Shot"</span>, 8);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Show/Shot"</span>,9);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Frame Start"</span>, 10);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Frame End"</span>, 11);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Frame Range"</span>,12);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"User"</span>,13);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Current File"</span>,14);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"File Path"</span>,15);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"File Name"</span>,16);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Pan/Scan Aspect Ratio"</span>,17);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Pan/Scan Offset"</span>,18);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"safe action"</span>,19);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"safe title"</span>,20);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    TextStr = tAttr.<a name="a77"></a><a class="code" href="./class_m_fn_typed_attribute.html#af785af0a66bd4a4da1d9f7bd74d4de0a">create</a>( <span class="stringliteral">"textStr"</span>, <span class="stringliteral">"tstr"</span>, <a name="a78"></a><a class="code" href="./class_m_fn_data.html#a1d1cfd8ffb84e947f82999c682b666a7afab53ea4a643325262b9c140af093279">MFnStringData::kString</a> );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create textStr attribute"</span>);</div>
<div class="line">    tAttr.<a name="a79"></a><a class="code" href="./class_m_fn_attribute.html#ab1986dcbce4e2fd86c5cb0bff5119dc0">setConnectable</a>(<span class="keyword">false</span>);</div>
<div class="line">    tAttr.<a name="a80"></a><a class="code" href="./class_m_fn_typed_attribute.html#a7a95079df9981822ebff97f65cac756d">setDefault</a>(defaultTextAttr);</div>
<div class="line">    tAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    TextAlign = eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a6bbfd35f997fda13f9a5824bc1fc6af7">create</a>( <span class="stringliteral">"textAlign"</span>, <span class="stringliteral">"ta"</span>, 0, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create textAlign attribute"</span>);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Left"</span>, 0);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Center"</span>, 1);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Right"</span>, 2);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    TextPosX = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"textPosX"</span>, <span class="stringliteral">"tpx"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.0, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create textPosX attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    TextPosY = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"textPosY"</span>, <span class="stringliteral">"tpy"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.0, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create textPosX attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    TextPos = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"textPos"</span>, <span class="stringliteral">"tp"</span>, TextPosX, TextPosY, <a class="code" href="./class_m_object.html#af2a707b4254eb54763167aeced863e63">MObject::kNullObj</a>, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create textPos attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 0.0, 0.0 );</div>
<div class="line"></div>
<div class="line">    TextPosRel = eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a6bbfd35f997fda13f9a5824bc1fc6af7">create</a>( <span class="stringliteral">"textPosRel"</span>, <span class="stringliteral">"tpr"</span>, 0, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create textPosRel attribute"</span>);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Bottom Left"</span>, 0);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Bottom Center"</span>, 1);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Bottom Right"</span>, 2);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Middle Left"</span>, 3);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Center"</span>, 4);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Middle Right"</span>, 5);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Top Left"</span>, 6);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Top Center"</span>, 7);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Top Right"</span>, 8);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    TextLevel = eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a6bbfd35f997fda13f9a5824bc1fc6af7">create</a>( <span class="stringliteral">"textLevel"</span>, <span class="stringliteral">"tl"</span>, 0, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create textLevel attribute"</span>);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Window"</span>, 0);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Pad/Filmback"</span>, 1);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Filmback"</span>, 2);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Proj. Mask"</span>, 3);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Aspect Ratio"</span>, 4);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Pan/Scan"</span>,5);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    TextARLevel = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"textARLevel"</span>, <span class="stringliteral">"tarl"</span>, <a name="a81"></a><a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a9bb31be73c01d40428195449f62588ac">MFnNumericData::kInt</a>, 0, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create textARLevel attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    TextColor = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"textColor"</span>, <span class="stringliteral">"tc"</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create textColor attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 1.0, 1.0, 1.0 );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    TextTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"textTrans"</span>, <span class="stringliteral">"tt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.5, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create textTrans attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    Text = cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a94a6d5e93a85fb18bc7accc18ee0d9f6">create</a>( <span class="stringliteral">"text"</span>, <span class="stringliteral">"txt"</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create text attribute"</span>);</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( TextType );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( TextStr );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( TextAlign );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( TextPos );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( TextPosRel );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( TextLevel );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( TextARLevel );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( TextColor );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( TextTrans );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_attribute.html#acc80b84249f9c028f2c6d085a026b50c">setArray</a>( <span class="keyword">true</span> );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_attribute.html#a74dfd22a2b7f8ff6eeacb6e32d142c28">setIndexMatters</a>( <span class="keyword">true</span> );</div>
<div class="line"></div>
<div class="line">    MiscTextColor = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"miscTextColor"</span>, <span class="stringliteral">"mtc"</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create miscTextColor attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 1.0, 1.0, 1.0 );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    MiscTextTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"miscTextTrans"</span>, <span class="stringliteral">"mtt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.5, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create miscTextTrans attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    LineColor = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"lineColor"</span>, <span class="stringliteral">"lc"</span>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 1.0, 1.0, 0.0 );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    LineTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"lineTrans"</span>, <span class="stringliteral">"lt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.5, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create lineTrans attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    FilmGateColor = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"filmGateColor"</span>, <span class="stringliteral">"fg"</span>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 1.0, 1.0, 1.0 );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    FilmGateTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"filmGateTrans"</span>, <span class="stringliteral">"fgt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.25, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create filmGateTrans attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    ProjGateColor = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"projGateColor"</span>, <span class="stringliteral">"pgc"</span>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 1.0, 1.0, 1.0 );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    ProjGateTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"projGateTrans"</span>, <span class="stringliteral">"pgt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.25, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create projGateTrans attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    HideLocator = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"hideLocator"</span>, <span class="stringliteral">"hlc"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create hideLocator attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    UseSpReticle = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"useSpReticle"</span>, <span class="stringliteral">"ur"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create useSpReticle attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    DisplayLineH = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"displayLineH"</span>, <span class="stringliteral">"dlh"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create displayLineH attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    DisplayLineV = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"displayLineV"</span>, <span class="stringliteral">"dlv"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create displayLineV attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    DisplayThirdsH = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"displayThirdsH"</span>, <span class="stringliteral">"dth"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create displayThirdsH attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    DisplayThirdsV = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"displayThirdsV"</span>, <span class="stringliteral">"dtv"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create displayThirdsV attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    DisplayCrosshair = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"displayCrosshair"</span>, <span class="stringliteral">"dlc"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create displayCrosshair attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    Time = uAttr.<a name="a82"></a><a class="code" href="./class_m_fn_unit_attribute.html#a31f804de81a968aa11b510a6231e7874">create</a>( <span class="stringliteral">"time"</span>, <span class="stringliteral">"tm"</span>, <a name="a83"></a><a class="code" href="./class_m_fn_unit_attribute.html#a1d1cfd8ffb84e947f82999c682b666a7a65c3a8bb75ba1a57e36c86855169752e">MFnUnitAttribute::kTime</a>, 0.0, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create time attribute"</span>);</div>
<div class="line"></div>
<div class="line">    DriveCameraAperture = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"driveCameraAperture"</span>, <span class="stringliteral">"dca"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create driveCameraAperture attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    MaximumDistance = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"maximumDistance"</span>, <span class="stringliteral">"mad"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 10000, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create maximumDistance attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    UseOverscan = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"useOverscan"</span>, <span class="stringliteral">"uo"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create useOverscan attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    UsePad = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"usePad"</span>, <span class="stringliteral">"up"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a8cfc0ab572a96edfc9db7c02f0d025d7">MFnNumericData::kBoolean</a>, <span class="keyword">false</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create usePad attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PadAmountX = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"padAmountX"</span>, <span class="stringliteral">"pax"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.0, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create padAmountX attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PadAmountY = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"padAmountY"</span>, <span class="stringliteral">"pay"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.0, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create padAmountY attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PadAmount = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"padAmount"</span>, <span class="stringliteral">"paa"</span>, PadAmountX, PadAmountY, <a class="code" href="./class_m_object.html#af2a707b4254eb54763167aeced863e63">MObject::kNullObj</a>, &amp;stat );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 0.0, 0.0 );</div>
<div class="line"></div>
<div class="line">    PadDisplayMode = eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a6bbfd35f997fda13f9a5824bc1fc6af7">create</a>( <span class="stringliteral">"padDisplayMode"</span>, <span class="stringliteral">"pdm"</span>, 2, &amp;stat );</div>
<div class="line">    McheckStatus(stat, <span class="stringliteral">"create panScanDisplayMode attribute"</span>);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"none"</span>, 0);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"lines"</span>, 1);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_enum_attribute.html#a8f286e4714934d59d15bc79ba923e8f1">addField</a>(<span class="stringliteral">"Transparent Mask"</span>, 2);</div>
<div class="line">    eAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PadMaskColor = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"padMaskColor"</span>, <span class="stringliteral">"pmc"</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create padMaskColor attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 0.0, 0.0, 0.0 );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PadMaskTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"padMaskTrans"</span>, <span class="stringliteral">"pmt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.25, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create padMaskTrans attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PadLineColor = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a3b53a86b42bc4da537c4be835797c4d5">createColor</a>( <span class="stringliteral">"padLineColor"</span>, <span class="stringliteral">"plc"</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create padLineColor attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aae3f2fbbbce06e006f1838a1fb6fdcdd">setDefault</a>( 1.0, 0.0, 0.0 );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#a4a44548ca2e5b1e7613a992a6b96a147">setUsedAsColor</a>( <span class="keyword">true</span> );</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    PadLineTrans = nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#a5c08a5ce5e7123cc444c95a0e4a50f29">create</a>( <span class="stringliteral">"padLineTrans"</span>, <span class="stringliteral">"plt"</span>, <a class="code" href="./class_m_fn_numeric_data.html#a1d1cfd8ffb84e947f82999c682b666a7a5686197bafb177bdc82550848416a1ad">MFnNumericData::kFloat</a>, 0.0, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create padLineTrans attribute"</span>);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#aba21b33176bb831de026b78605c1dcf3">setMin</a>(0.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_numeric_attribute.html#adab95fd85497b1dad3a4ba7a842ce9d8">setMax</a>(1.0);</div>
<div class="line">    nAttr.<a class="code" href="./class_m_fn_attribute.html#ae27cf2fd28a3c69b880b1096ea9e0103">setInternal</a>(<span class="keyword">true</span>);</div>
<div class="line"></div>
<div class="line">    Pad = cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a94a6d5e93a85fb18bc7accc18ee0d9f6">create</a>( <span class="stringliteral">"pad"</span>, <span class="stringliteral">"pad"</span>, &amp;stat );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create pad attribute"</span>);</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( UsePad );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PadAmount );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PadDisplayMode );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PadMaskColor );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PadMaskTrans );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PadLineColor );</div>
<div class="line">    cAttr.<a class="code" href="./class_m_fn_compound_attribute.html#a45469146fcfb96cdc96ad3a07df5dfa7">addChild</a>( PadLineTrans );</div>
<div class="line"></div>
<div class="line">    Tag = tAttr.<a class="code" href="./class_m_fn_typed_attribute.html#af785af0a66bd4a4da1d9f7bd74d4de0a">create</a>( <span class="stringliteral">"type"</span>, <span class="stringliteral">"typ"</span>, <a class="code" href="./class_m_fn_data.html#a1d1cfd8ffb84e947f82999c682b666a7afab53ea4a643325262b9c140af093279">MFnStringData::kString</a> );</div>
<div class="line">    McheckStatus(stat,<span class="stringliteral">"create tag attribute"</span>);</div>
<div class="line">    tAttr.<a name="a84"></a><a class="code" href="./class_m_fn_attribute.html#ab8e48be1f1009a30d0e40dfcaf9e649d">setHidden</a>(<span class="keyword">true</span>);</div>
<div class="line">    tAttr.<a class="code" href="./class_m_fn_attribute.html#ab1986dcbce4e2fd86c5cb0bff5119dc0">setConnectable</a>(<span class="keyword">false</span>);</div>
<div class="line">    tAttr.<a class="code" href="./class_m_fn_typed_attribute.html#a7a95079df9981822ebff97f65cac756d">setDefault</a>(defaultTextAttr);</div>
<div class="line"></div>
<div class="line">    stat = addAttribute(EnableTextDrawing);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute enableTextDrawing"</span>);</div>
<div class="line">    stat = addAttribute (DrawingEnabled);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute drawingEnabled"</span>);</div>
<div class="line">    stat = addAttribute (FilmbackAperture);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute filmbackAperture"</span>);</div>
<div class="line">    stat = addAttribute (SoundTrackWidth);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute soundTrackWidth"</span>);</div>
<div class="line">    stat = addAttribute (DisplayFilmGate);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute displayFilmGate"</span>);</div>
<div class="line">    stat = addAttribute (ProjectionGate);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute projectionGate"</span>);</div>
<div class="line">    stat = addAttribute (DisplayProjectionGate);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute displayProjectionGate"</span>);</div>
<div class="line">    stat = addAttribute (SafeAction);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute safeAction"</span>);</div>
<div class="line">    stat = addAttribute (DisplaySafeAction);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute displaySafeAction"</span>);</div>
<div class="line">    stat = addAttribute (SafeTitle);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute safeTitle"</span>);</div>
<div class="line">    stat = addAttribute (DisplaySafeTitle);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute displaySafeTitle"</span>);</div>
<div class="line">    stat = addAttribute (PanScanAttr);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute panScan"</span>);</div>
<div class="line">    stat = addAttribute (AspectRatios);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute aspectRatios"</span>);</div>
<div class="line">    stat = addAttribute (Text);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute text"</span>);</div>
<div class="line">    stat = addAttribute (MiscTextColor);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute miscTextColor"</span>);</div>
<div class="line">    stat = addAttribute (MiscTextTrans);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute miscTextTrans"</span>);</div>
<div class="line">    stat = addAttribute (LineColor);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute lineColor"</span>);</div>
<div class="line">    stat = addAttribute (LineTrans);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute lineTrans"</span>);</div>
<div class="line">    stat = addAttribute (FilmGateColor);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute filmGateColor"</span>);</div>
<div class="line">    stat = addAttribute (FilmGateTrans);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute filmGateTrans"</span>);</div>
<div class="line">    stat = addAttribute (ProjGateColor);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute projGateColor"</span>);</div>
<div class="line">    stat = addAttribute (ProjGateTrans);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute projGateTrans"</span>);</div>
<div class="line">    stat = addAttribute (HideLocator);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute hideLocator"</span>);</div>
<div class="line">    stat = addAttribute (UseSpReticle);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute useSpReticle"</span>);</div>
<div class="line">    stat = addAttribute (DisplayLineH);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute displayLineH"</span>);</div>
<div class="line">    stat = addAttribute (DisplayLineV);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute displayLineV"</span>);</div>
<div class="line">    stat = addAttribute (DisplayThirdsH);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute displayThirdsH"</span>);</div>
<div class="line">    stat = addAttribute (DisplayThirdsV);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute displayThirdsV"</span>);</div>
<div class="line">    stat = addAttribute (DisplayCrosshair);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute displayCrosshair"</span>);</div>
<div class="line">    stat = addAttribute (Time);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute time"</span>);</div>
<div class="line">    stat = addAttribute (DriveCameraAperture);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute driveCameraAperture"</span>);</div>
<div class="line">    stat = addAttribute (MaximumDistance);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute maximumDistance"</span>);</div>
<div class="line">    stat = addAttribute (UseOverscan);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute useOverscan"</span>);</div>
<div class="line">    stat = addAttribute (Pad);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute pad"</span>);</div>
<div class="line">    stat = addAttribute (Tag);</div>
<div class="line">        McheckStatus(stat,<span class="stringliteral">"addAttribute tag"</span>);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> MS::kSuccess;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> initializePlugin(<a class="code" href="./class_m_object.html">MObject</a> obj)</div>
<div class="line">{</div>
<div class="line"> <a name="_a85"></a><a class="code" href="./class_m_fn_plugin.html">MFnPlugin</a> plugin(obj, <span class="stringliteral">"SPI"</span>, <span class="stringliteral">"1.6"</span>, <span class="stringliteral">"Any"</span>);</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> status = plugin.registerNode( <span class="stringliteral">"spReticleLoc"</span>, spReticleLoc::id,</div>
<div class="line">                         &amp;spReticleLoc::creator, &amp;spReticleLoc::initialize,</div>
<div class="line"> <a name="a86"></a><a class="code" href="./class_m_px_node.html#a1d1cfd8ffb84e947f82999c682b666a7aee1b06f2f9885d7d4fd4fda48926f94b">MPxNode::kLocatorNode</a>,</div>
<div class="line">                         &amp;spReticleLoc::drawDbClassification);</div>
<div class="line"> <span class="keywordflow">if</span> (!status)</div>
<div class="line">    {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"registerNode"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = <a name="a87"></a><a class="code" href="./class_m_h_w_render_1_1_m_draw_registry.html#aad1598f978d33d3e5101ae28f9f07b6f">MHWRender::MDrawRegistry::registerDrawOverrideCreator</a>(</div>
<div class="line">        spReticleLoc::drawDbClassification,</div>
<div class="line">        spReticleLoc::drawRegistrantId,</div>
<div class="line">        spReticleLocDrawOverride::Creator);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"registerDrawOverrideCreator"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_status.html">MStatus</a> uninitializePlugin(<a class="code" href="./class_m_object.html">MObject</a> obj)</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_fn_plugin.html">MFnPlugin</a> plugin( obj );</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> status = <a name="a88"></a><a class="code" href="./class_m_h_w_render_1_1_m_draw_registry.html#ae87be399ce4204dbe8b565c4ff76c0fa">MHWRender::MDrawRegistry::deregisterDrawOverrideCreator</a>(</div>
<div class="line">        spReticleLoc::drawDbClassification,</div>
<div class="line">        spReticleLoc::drawRegistrantId);</div>
<div class="line"> <span class="keywordflow">if</span> (!status) {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"deregisterGeometryOverrideCreator"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    status = plugin.deregisterNode( spReticleLoc::id );</div>
<div class="line"> <span class="keywordflow">if</span> (!status)</div>
<div class="line">    {</div>
<div class="line">        status.<a class="code" href="./class_m_status.html#a1f01a4748fea4d8bcced082df83f804d">perror</a>(<span class="stringliteral">"deregisterNode"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">return</span> status;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> spReticleLoc::getDrawData( spReticleLocData&amp; drawData, <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a> &amp;cameraPath, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; portHeight, <span class="keyword">const</span> <span class="keywordtype">double</span>&amp; portWidth )</div>
<div class="line">{</div>
<div class="line"> <span class="comment">//clear the data</span></div>
<div class="line">    drawData = spReticleLocData();</div>
<div class="line"> </div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> stat;</div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> p;</div>
<div class="line">    thisNode = thisMObject();</div>
<div class="line"></div>
<div class="line"> <span class="comment">//set node name</span></div>
<div class="line">    drawData.nodeName = name();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Initialize maximumDist</span></div>
<div class="line">    drawData.maximumDist = 0;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If this is the first time it's being draw, load the default values</span></div>
<div class="line"> <span class="keywordflow">if</span> (loadDefault == 1)</div>
<div class="line">    {</div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> tag;</div>
<div class="line">        p = <a class="code" href="./class_m_plug.html">MPlug</a> ( thisNode,Tag );</div>
<div class="line">        McheckVoid ( p.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a> ( tag  ), <span class="stringliteral">"spReticleLoc::draw get tag"</span>);</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_string.html">MString</a> cmd = <span class="stringliteral">"if (exists(\"spReticleLocSetDefault\")) spReticleLocSetDefault(\""</span>+ name()+<span class="stringliteral">"\",\""</span>+tag+<span class="stringliteral">"\")"</span>;</div>
<div class="line"> <a class="code" href="./class_m_global.html#a09e405631e7cf680f8ac9d934ad73434">MGlobal::executeCommand</a>(cmd);</div>
<div class="line">        loadDefault = 0;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get options</span></div>
<div class="line"> <span class="keywordflow">if</span>(needRefresh) </div>
<div class="line">        getOptions(drawData.options);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Drawing not enabled, return</span></div>
<div class="line"> <span class="keywordflow">if</span> (!drawData.options.drawingEnabled)</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Set the MFnCamera to the current camera</span></div>
<div class="line"> <a class="code" href="./class_m_fn_camera.html">MFnCamera</a> camera;</div>
<div class="line">    camera.<a class="code" href="./class_m_fn_dag_node.html#a6b2301b53683a8e8f56dd0b9cb088b0f">setObject</a>( cameraPath );</div>
<div class="line"> </div>
<div class="line">    drawData.cameraData.nearClippingPlane = camera.<a name="a89"></a><a class="code" href="./class_m_fn_camera.html#a7189bcaad0276cd50d0d67b69e572ddd">nearClippingPlane</a>();</div>
<div class="line">    drawData.cameraData.farClippingPlane = camera.<a name="a90"></a><a class="code" href="./class_m_fn_camera.html#a7004b2dc7ca4d68be2f656b171d6eaba">farClippingPlane</a>();</div>
<div class="line">    drawData.cameraData.isOrtho = camera.<a name="a91"></a><a class="code" href="./class_m_fn_camera.html#ad7a5be2ee4c2c2ff3834dc817b49d53a">isOrtho</a>();</div>
<div class="line">    drawData.cameraData.cameraPath = cameraPath;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If camera is orthographic, then return</span></div>
<div class="line"> <span class="keywordflow">if</span> (drawData.cameraData.isOrtho) </div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Using useSpReticle Filter, check camera for attribute</span></div>
<div class="line"> <span class="keywordflow">if</span> (drawData.options.useSpRet)</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">//Default value to false</span></div>
<div class="line">        drawData.useReticle = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Find the useSpReticle plug on the camera node</span></div>
<div class="line"> <a class="code" href="./class_m_plug.html">MPlug</a> useReticlePlug = camera.<a name="a92"></a><a class="code" href="./class_m_fn_dependency_node.html#aac29b4a3b51c9d236175e955638f7153">findPlug</a>(<span class="stringliteral">"useSpReticle"</span>,  <span class="keyword">true</span>,  &amp;stat);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If the plug is valid (not null) get the current value</span></div>
<div class="line"> <span class="keywordflow">if</span> (!useReticlePlug.<a class="code" href="./class_m_plug.html#ab7ec149d38b7c29ca55c5aa7b407d8f9">isNull</a>())</div>
<div class="line">        {</div>
<div class="line">            McheckVoid ( useReticlePlug.<a class="code" href="./class_m_plug.html#ab017c746e6e0c13bf994b2458d3b5eee">getValue</a>( drawData.useReticle ), <span class="stringliteral">"spReticleLoc::draw get useSpReticle plug"</span>);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If camera is not set to use reticle then return</span></div>
<div class="line"> <span class="keywordflow">if</span> (!drawData.useReticle)</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the camera position</span></div>
<div class="line"> <a class="code" href="./class_m_matrix.html">MMatrix</a> wm = cameraPath.<a name="a93"></a><a class="code" href="./class_m_dag_path.html#afb30f64680f5aa038da428a79579d08c">inclusiveMatrix</a>();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Find the largest component</span></div>
<div class="line"> <span class="keywordflow">if</span> (drawData.options.maximumDistance &gt; 0)</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// original: largest value</span></div>
<div class="line"> <span class="comment">//maximumDist = std::max(wm[3][0],std::max(wm[3][1],wm[3][2]));</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// largest absolute value (if negative, returns positive number)</span></div>
<div class="line"> <span class="comment">//maximumDist = std::max(fabs(wm[3][0]),std::max(fabs(wm[3][1]),fabs(wm[3][2])));</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// largest value (if negative, returns negative number)</span></div>
<div class="line"> <span class="keywordtype">double</span> maxDist = std::max(wm[3][0],std::max(wm[3][1],wm[3][2]));</div>
<div class="line"> <span class="keywordtype">double</span> minDist = std::min(wm[3][0],std::min(wm[3][1],wm[3][2]));</div>
<div class="line">        drawData.maximumDist = (fabs(maxDist) &gt; fabs(minDist)) ? maxDist : minDist;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the camera's overscan value</span></div>
<div class="line">    drawData.overscan = (drawData.options.useOverscan) ? 1.0 : camera.<a name="a94"></a><a class="code" href="./class_m_fn_camera.html#a0650a6633cade2df153af6564bf03797">overscan</a>();</div>
<div class="line">    drawData.ncp = camera.<a class="code" href="./class_m_fn_camera.html#a7189bcaad0276cd50d0d67b69e572ddd">nearClippingPlane</a>() + 0.001;</div>
<div class="line"></div>
<div class="line">    drawData.portHeight = portHeight;</div>
<div class="line">    drawData.portWidth = portWidth;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the worldInverseMatrix</span></div>
<div class="line">    drawData.wim = getMatrix(<span class="stringliteral">"worldInverseMatrix"</span>);</div>
<div class="line"></div>
<div class="line">    drawData.calcPortGeom();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Update text data</span></div>
<div class="line"> <span class="keywordflow">if</span> (needToUpdateTextData(drawData) || needRefresh)</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Get the text data</span></div>
<div class="line">        getTextData(drawData);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Update aspect ratios</span></div>
<div class="line"> <span class="keywordflow">if</span> (needToUpdateAspectRatios(drawData) || needRefresh)</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Get the aspect ratio data</span></div>
<div class="line">        getAspectRatioData(drawData);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Check to see if we need to refresh the data</span></div>
<div class="line"> <span class="keywordflow">if</span> (needRefresh)</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Get the pad attribute data</span></div>
<div class="line">        getPadData(drawData);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the filmback attribute data</span></div>
<div class="line">        getFilmbackData(drawData);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get the projection gate attribute data</span></div>
<div class="line">        getProjectionData(drawData);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get safe title and safe action data</span></div>
<div class="line">        getSafeActionData(drawData);</div>
<div class="line">        getSafeTitleData(drawData);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Get pan and scan data</span></div>
<div class="line">        getPanScanData(drawData.panScan );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Hold this copy</span></div>
<div class="line">        drawData.oFilmback = drawData.filmback;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Reset need refresh</span></div>
<div class="line"> <span class="comment">//needRefresh = false;</span></div>
<div class="line">    }   </div>
<div class="line"></div>
<div class="line">    drawData.doCompute();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw custom text elements</span></div>
<div class="line"> <span class="keywordflow">if</span> ( drawData.options.enableTextDrawing)</div>
<div class="line">        getCustomTextElement(drawData);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method calculates the geometry of the current window. This data is</span></div>
<div class="line"><span class="comment">// stored in a instance of the Geom class.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocData::calcPortGeom()</div>
<div class="line">{</div>
<div class="line">    portGeom.x1 = 0;</div>
<div class="line">    portGeom.x2 = portWidth;</div>
<div class="line">    portGeom.y1 = 0;</div>
<div class="line">    portGeom.y2 = portHeight;</div>
<div class="line"></div>
<div class="line">    portGeom.x = portWidth / 2;</div>
<div class="line">    portGeom.y = portHeight / 2;</div>
<div class="line">    portGeom.isValid = <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method calculates the geometry for the filmback. There are multiple</span></div>
<div class="line"><span class="comment">// Geom instances that are used for displaying all of the filmback options.</span></div>
<div class="line"><span class="comment">// This method takes the filmback data and calculates the appropriate settings</span></div>
<div class="line"><span class="comment">// for the filmback Geom instances.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocData::calcFilmbackGeom()</div>
<div class="line">{</div>
<div class="line">    filmback = oFilmback;</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_fn_camera.html">MFnCamera</a> camera;</div>
<div class="line">    camera.<a class="code" href="./class_m_fn_dag_node.html#a6b2301b53683a8e8f56dd0b9cb088b0f">setObject</a>(cameraData.cameraPath);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// See if we are using the camera's filmback data</span></div>
<div class="line"> <span class="keywordtype">bool</span> useCameraFilmback = filmback.horizontalFilmAperture == -1;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If the horizontalFilmAperture equals -1, then use the cameras settings</span></div>
<div class="line"> <span class="keywordflow">if</span> (useCameraFilmback)</div>
<div class="line">    {</div>
<div class="line">        filmback.horizontalFilmAperture = camera.<a name="a95"></a><a class="code" href="./class_m_fn_camera.html#a6293fe9fc06e610883e1c2fca2bfe947">horizontalFilmAperture</a>();</div>
<div class="line">        filmback.verticalFilmAperture = camera.<a name="a96"></a><a class="code" href="./class_m_fn_camera.html#a6be704cddfab6058c7fd85f8a7205c04">verticalFilmAperture</a>();</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">double</span> hfa = filmback.horizontalFilmAperture;</div>
<div class="line"> <span class="keywordtype">double</span> vfa = filmback.verticalFilmAperture;</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">double</span> aspectRatio = hfa/vfa;</div>
<div class="line"> <span class="keywordtype">double</span> nonPaddedAspectRatio = aspectRatio;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Remove pad from filmback and aspect ratio</span></div>
<div class="line"> <span class="keywordflow">if</span> (pad.usePad &amp;&amp; pad.isPadded)</div>
<div class="line">    {</div>
<div class="line">        filmback.horizontalFilmAperture -= pad.padAmountX;</div>
<div class="line">        filmback.verticalFilmAperture -= pad.padAmountY;</div>
<div class="line">        nonPaddedAspectRatio = filmback.horizontalFilmAperture / filmback.verticalFilmAperture;</div>
<div class="line"> <span class="keywordflow">if</span> (! pad.usePad)</div>
<div class="line">        {</div>
<div class="line">            hfa = filmback.horizontalFilmAperture;</div>
<div class="line">            vfa = filmback.verticalFilmAperture;</div>
<div class="line">            aspectRatio = nonPaddedAspectRatio;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If drive camera aperture is on, then set camera values</span></div>
<div class="line"> <span class="keywordflow">if</span> (!useCameraFilmback &amp;&amp; options.driveCameraAperture)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (camera.<a class="code" href="./class_m_fn_camera.html#a6293fe9fc06e610883e1c2fca2bfe947">horizontalFilmAperture</a>() != hfa)</div>
<div class="line">            McheckVoid( camera.<a name="a97"></a><a class="code" href="./class_m_fn_camera.html#aeacf0b404c2ac885c0c065c3dfcec406">setHorizontalFilmAperture</a>(hfa), <span class="stringliteral">"spReticleLoc::calcFilmbackGeom - setting "</span>+camera.<a class="code" href="./class_m_fn_dependency_node.html#a049384adbea0396ea2f03d1ad4d69df1">name</a>()+<span class="stringliteral">".horizontalFilmAperture"</span>);</div>
<div class="line"> <span class="keywordflow">if</span> (camera.<a class="code" href="./class_m_fn_camera.html#a6be704cddfab6058c7fd85f8a7205c04">verticalFilmAperture</a>() != vfa)</div>
<div class="line">            McheckVoid( camera.<a name="a98"></a><a class="code" href="./class_m_fn_camera.html#a01aacf79810639192f0d3c00ff4c46f1">setVerticalFilmAperture</a>(vfa), <span class="stringliteral">"spReticleLoc::calcFilmbackGeom - setting "</span>+camera.<a class="code" href="./class_m_fn_dependency_node.html#a049384adbea0396ea2f03d1ad4d69df1">name</a>()+<span class="stringliteral">".verticalFilmAperture"</span>);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordtype">double</span> portAspectRatio = double(portWidth)/double(portHeight);</div>
<div class="line"> <span class="keywordtype">bool</span> portHoriz = portAspectRatio &gt; aspectRatio;</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_fn_camera.html#a9592271f00503127bbc8abe266dc4b04">MFnCamera::FilmFit</a> filmFit = camera.<a name="a99"></a><a class="code" href="./class_m_fn_camera.html#a6a208e28be28ebf0290216314ce9358b">filmFit</a>();</div>
<div class="line"> <span class="keywordflow">if</span> (filmFit == <a name="a100"></a><a class="code" href="./class_m_fn_camera.html#a9592271f00503127bbc8abe266dc4b04abff88c2f32861c79b4558fe686eacda4">MFnCamera::kFillFilmFit</a>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (portHoriz)</div>
<div class="line">            filmFit = <a name="a101"></a><a class="code" href="./class_m_fn_camera.html#a9592271f00503127bbc8abe266dc4b04abde3282d1a502ae5699452709d6edfe1">MFnCamera::kHorizontalFilmFit</a>;</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            filmFit = <a name="a102"></a><a class="code" href="./class_m_fn_camera.html#a9592271f00503127bbc8abe266dc4b04a5bfb37b7089c17ed6c662937bfb7c61d">MFnCamera::kVerticalFilmFit</a>;</div>
<div class="line">    }</div>
<div class="line"> <span class="keywordflow">if</span> (filmFit == <a name="a103"></a><a class="code" href="./class_m_fn_camera.html#a9592271f00503127bbc8abe266dc4b04a0e9631c93f31c8bf379d19059f7b157f">MFnCamera::kOverscanFilmFit</a>)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (portHoriz)</div>
<div class="line">            filmFit = <a class="code" href="./class_m_fn_camera.html#a9592271f00503127bbc8abe266dc4b04a5bfb37b7089c17ed6c662937bfb7c61d">MFnCamera::kVerticalFilmFit</a>;</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">            filmFit = <a class="code" href="./class_m_fn_camera.html#a9592271f00503127bbc8abe266dc4b04abde3282d1a502ae5699452709d6edfe1">MFnCamera::kHorizontalFilmFit</a>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">switch</span> ( filmFit )</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">case</span> <a name="a104"></a><a class="code" href="./class_m_fn_camera.html#a9592271f00503127bbc8abe266dc4b04a94dd08feda7b2cf0ff8262312c4fcc09">MFnCamera::kInvalid</a> :</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code" href="./class_m_fn_camera.html#a9592271f00503127bbc8abe266dc4b04abde3282d1a502ae5699452709d6edfe1">MFnCamera::kHorizontalFilmFit</a> :</div>
<div class="line">        filmback.filmbackGeom.x = (portWidth / overscan);</div>
<div class="line"> <span class="keywordflow">if</span> (pad.usePad &amp;&amp; pad.isPadded)</div>
<div class="line">        {</div>
<div class="line">            pad.padGeom.x = filmback.filmbackGeom.x;</div>
<div class="line">            pad.padGeom.y = pad.padGeom.x / aspectRatio;</div>
<div class="line">            filmback.filmbackGeom.x /= hfa / filmback.horizontalFilmAperture;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        filmback.filmbackGeom.y = filmback.filmbackGeom.x / nonPaddedAspectRatio;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">case</span> <a class="code" href="./class_m_fn_camera.html#a9592271f00503127bbc8abe266dc4b04a5bfb37b7089c17ed6c662937bfb7c61d">MFnCamera::kVerticalFilmFit</a> :</div>
<div class="line">        filmback.filmbackGeom.y = (portHeight / overscan);</div>
<div class="line"> <span class="keywordflow">if</span> (pad.usePad &amp;&amp; pad.isPadded)</div>
<div class="line">        {</div>
<div class="line">            pad.padGeom.y = filmback.filmbackGeom.y;</div>
<div class="line">            pad.padGeom.x = pad.padGeom.y * aspectRatio;</div>
<div class="line"></div>
<div class="line">            filmback.filmbackGeom.y /= vfa / filmback.verticalFilmAperture;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        filmback.filmbackGeom.x = filmback.filmbackGeom.y * nonPaddedAspectRatio;</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line"> <span class="keywordflow">default</span>:</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>( nodeName + <span class="stringliteral">" invalid camera film fit ("</span> + filmFit + <span class="stringliteral">")"</span>);</div>
<div class="line"> <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Account for lens squeeze</span></div>
<div class="line">    filmback.filmbackGeom.x *= camera.<a name="a105"></a><a class="code" href="./class_m_fn_camera.html#a1449c8aa978d4c1578355651bc4b36c8">lensSqueezeRatio</a>();</div>
<div class="line">    pad.padGeom.x *= camera.<a class="code" href="./class_m_fn_camera.html#a1449c8aa978d4c1578355651bc4b36c8">lensSqueezeRatio</a>();</div>
<div class="line"></div>
<div class="line">    filmback.filmbackGeom.x1 = portGeom.x - (filmback.filmbackGeom.x / 2);</div>
<div class="line">    filmback.filmbackGeom.x2 = portGeom.x + (filmback.filmbackGeom.x / 2);</div>
<div class="line">    filmback.filmbackGeom.y1 = portGeom.y - (filmback.filmbackGeom.y / 2);</div>
<div class="line">    filmback.filmbackGeom.y2 = portGeom.y + (filmback.filmbackGeom.y / 2);</div>
<div class="line">    filmback.filmbackGeom.isValid = <span class="keyword">true</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Calculate the image area</span></div>
<div class="line">    filmback.horizontalImageAperture    = filmback.horizontalFilmAperture;</div>
<div class="line">    filmback.verticalImageAperture      = filmback.verticalFilmAperture;</div>
<div class="line">    filmback.imageGeom = filmback.filmbackGeom;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Adjust for sound track if necessary</span></div>
<div class="line"> <span class="keywordflow">if</span> (filmback.soundTrackWidth != 0)</div>
<div class="line">    {</div>
<div class="line">        filmback.horizontalImageAperture -= filmback.soundTrackWidth;</div>
<div class="line">        filmback.imageGeom.x = filmback.filmbackGeom.x * (filmback.horizontalImageAperture/filmback.horizontalFilmAperture);</div>
<div class="line">        filmback.imageGeom.x1 = filmback.filmbackGeom.x1+(filmback.filmbackGeom.x-filmback.imageGeom.x);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Calculate rest of the pad area</span></div>
<div class="line"> <span class="keywordflow">if</span> (pad.usePad &amp;&amp; pad.isPadded)</div>
<div class="line">    {</div>
<div class="line">        pad.padGeom.x1 = portGeom.x - (pad.padGeom.x / 2);</div>
<div class="line">        pad.padGeom.x2 = portGeom.x + (pad.padGeom.x / 2);</div>
<div class="line">        pad.padGeom.y1 = portGeom.y - (pad.padGeom.y / 2);</div>
<div class="line">        pad.padGeom.y2 = portGeom.y + (pad.padGeom.y / 2);</div>
<div class="line">        pad.padGeom.isValid = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        pad.padGeom = filmback.filmbackGeom;</div>
<div class="line">        pad.padGeom.isValid = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    filmback.safeActionGeom.isValid = <span class="keyword">false</span>;</div>
<div class="line">    filmback.safeTitleGeom.isValid = <span class="keyword">false</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method calculates the safe action area for the filmback.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocData::calcFilmbackSafeActionGeom()</div>
<div class="line">{</div>
<div class="line">    calcMaskGeom(filmback.safeActionGeom,filmback.horizontalSafeAction,filmback.verticalSafeAction,filmback.imageGeom,filmback.horizontalImageAperture,filmback.verticalImageAperture);</div>
<div class="line">    filmback.safeActionGeom.isValid = <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method calculates the safe title area for the filmback.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocData::calcFilmbackSafeTitleGeom(){</div>
<div class="line">    calcMaskGeom(filmback.safeTitleGeom,filmback.horizontalSafeTitle,filmback.verticalSafeTitle,filmback.imageGeom,filmback.horizontalImageAperture,filmback.verticalImageAperture);</div>
<div class="line">    filmback.safeTitleGeom.isValid = <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This method calculates the actual mask x,y values for a given Geom</span></div>
<div class="line"><span class="comment">// instance.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocData::calcMaskGeom(Geom &amp; g, <span class="keywordtype">double</span> w, <span class="keywordtype">double</span> h, Geom &amp; gSrc,</div>
<div class="line"> <span class="keywordtype">double</span> wSrc, <span class="keywordtype">double</span> hSrc)</div>
<div class="line">{</div>
<div class="line"> <span class="keywordtype">double</span> pw = (w != -1)?((wSrc-w)/2)/wSrc:(1-wSrc)/2;</div>
<div class="line"> <span class="keywordtype">double</span> ph = (h != -1)?((hSrc-h)/2)/hSrc:(1-hSrc)/2;</div>
<div class="line"></div>
<div class="line">    g.x = gSrc.x*pw;</div>
<div class="line">    g.y = gSrc.y*ph;</div>
<div class="line"></div>
<div class="line">    g.x1 = gSrc.x1+g.x;</div>
<div class="line">    g.x2 = gSrc.x2-g.x;</div>
<div class="line">    g.y1 = gSrc.y1+g.y;</div>
<div class="line">    g.y2 = gSrc.y2-g.y;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Calculates the safe action geometry for an Aspect Ratio.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocData::calcSafeActionGeom( Aspect_Ratio &amp; ar )</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">if</span> ( ar.aspectGeom.isValid )</div>
<div class="line">    {</div>
<div class="line">        ar.safeActionGeom = ar.aspectGeom;</div>
<div class="line">        calcMaskGeom(ar.safeActionGeom, -1, -1, ar.aspectGeom, 0.9, 0.9);</div>
<div class="line">        ar.safeActionGeom.isValid = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        ar.safeActionGeom.isValid = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Calculates the safe title geometry for an Aspect Ratio.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocData::calcSafeTitleGeom( Aspect_Ratio &amp; ar )</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">if</span> (ar.aspectGeom.isValid)</div>
<div class="line">    {</div>
<div class="line">        ar.safeTitleGeom = ar.aspectGeom;</div>
<div class="line">        calcMaskGeom(ar.safeTitleGeom, -1, -1, ar.aspectGeom, 0.8, 0.8);</div>
<div class="line">        ar.safeTitleGeom.isValid = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        ar.safeTitleGeom.isValid = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This calculates the various Geom instances for a particular aspectRatio</span></div>
<div class="line"><span class="comment">// instance.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocData::calcAspectGeom( Aspect_Ratio &amp; ar )</div>
<div class="line">{</div>
<div class="line">    ar.aspectGeom.x = filmback.imageGeom.x;</div>
<div class="line">    ar.aspectGeom.y = ar.aspectGeom.x / ar.aspectRatio;</div>
<div class="line"></div>
<div class="line">    ar.aspectGeom.x1 = filmback.imageGeom.x1;</div>
<div class="line">    ar.aspectGeom.x2 = filmback.imageGeom.x2;</div>
<div class="line">    ar.aspectGeom.y1 = portGeom.y - (ar.aspectGeom.y / 2);</div>
<div class="line">    ar.aspectGeom.y2 = portGeom.y + (ar.aspectGeom.y / 2);</div>
<div class="line"></div>
<div class="line">    ar.aspectGeom.isValid = <span class="keyword">true</span>;</div>
<div class="line">    ar.safeActionGeom.isValid = <span class="keyword">false</span>;</div>
<div class="line">    ar.safeTitleGeom.isValid = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displaySafeAction)</div>
<div class="line">        calcSafeActionGeom(ar);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displaySafeTitle)</div>
<div class="line">        calcSafeTitleGeom(ar);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// This calculates the PanScan Geom instances.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocData::calcPanScanGeom( PanScan &amp; ps )</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">if</span> (ps.aspectRatio == -1)</div>
<div class="line">        ps.aspectRatio = filmback.horizontalFilmAperture / filmback.verticalFilmAperture;</div>
<div class="line"></div>
<div class="line">    ps.aspectGeom.y = filmback.imageGeom.x / ps.aspectRatio;</div>
<div class="line">    ps.aspectGeom.x = ps.aspectGeom.y * ps.panScanRatio;</div>
<div class="line"></div>
<div class="line">    ps.aspectGeom.x1 = filmback.imageGeom.x1+ ( ((ps.panScanOffset+1)/2)*(filmback.imageGeom.x-ps.aspectGeom.x) );</div>
<div class="line">    ps.aspectGeom.x2 = ps.aspectGeom.x1+ps.aspectGeom.x;</div>
<div class="line">    ps.aspectGeom.y1 = portGeom.y - (ps.aspectGeom.y / 2);</div>
<div class="line">    ps.aspectGeom.y2 = portGeom.y + (ps.aspectGeom.y / 2);</div>
<div class="line"></div>
<div class="line">    ps.aspectGeom.isValid = <span class="keyword">true</span>;</div>
<div class="line">    ps.safeActionGeom.isValid = <span class="keyword">false</span>;</div>
<div class="line">    ps.safeTitleGeom.isValid = <span class="keyword">false</span>;</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (ps.displaySafeAction)</div>
<div class="line">        calcSafeActionGeom( ps );</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (ps.displaySafeTitle)</div>
<div class="line">        calcSafeTitleGeom( ps );</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocData::doCompute()</div>
<div class="line">{</div>
<div class="line"> <span class="comment">// Peform the calculations necessary to define the filmback geometry.</span></div>
<div class="line">    calcFilmbackGeom();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Calculate the projection gate geometry</span></div>
<div class="line"> <span class="keywordflow">if</span> (filmback.displayProjGate)</div>
<div class="line">        calcMaskGeom(filmback.projGeom,filmback.horizontalProjectionGate,filmback.verticalProjectionGate,filmback.imageGeom,filmback.horizontalImageAperture,filmback.verticalImageAperture);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Calculate the safe action geometry</span></div>
<div class="line"> <span class="keywordflow">if</span> (filmback.displaySafeAction)</div>
<div class="line">        calcFilmbackSafeActionGeom();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Calculate the safe title geometry</span></div>
<div class="line"> <span class="keywordflow">if</span> (filmback.displaySafeTitle)</div>
<div class="line">        calcFilmbackSafeTitleGeom();</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Calculate the projection gate geometry</span></div>
<div class="line"> <span class="keywordflow">if</span> (panScan.displayMode != 0)</div>
<div class="line">        calcPanScanGeom( panScan );</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Calculate the aspect ratio geometry</span></div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numAspectRatios; i++ )</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Only calculate the aspect geom if the display mode != 0</span></div>
<div class="line"> <span class="keywordflow">if</span> (ars[i].displayMode != 0)</div>
<div class="line">        {</div>
<div class="line">            calcAspectGeom( ars[i] );</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line">spReticleLocDrawOverride::spReticleLocDrawOverride( <span class="keyword">const</span> <a class="code" href="./class_m_object.html">MObject</a>&amp; obj )</div>
<div class="line">    : <a class="code" href="./namespace_m_h_w_render.html">MHWRender</a>::MPxDrawOverride(obj, NULL)</div>
<div class="line">    ,mCustomBoxDraw(false)</div>
<div class="line">{</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line">spReticleLocDrawOverride::~spReticleLocDrawOverride()</div>
<div class="line">{</div>
<div class="line"></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49">MHWRender::DrawAPI</a> spReticleLocDrawOverride::supportedDrawAPIs()<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="comment">// this plugin supports both GL and DX</span></div>
<div class="line"> <span class="keywordflow">return</span> (<a name="a106"></a><a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49a72361be679c1aca1c1be5f9b500a3315">MHWRender::kOpenGL</a> | <a name="a107"></a><a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49aaebf48c70b63878eff38483392f19fb7">MHWRender::kOpenGLCoreProfile</a> | <a name="a108"></a><a class="code" href="./namespace_m_h_w_render.html#ad970d5c990d4803d0e9d73c1ff4fda49a90bc0a1678af7ac4d1e62e2e954be4e5">MHWRender::kDirectX11</a>);</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">bool</span> spReticleLocDrawOverride::isBounded( <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath, <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath )<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a class="code" href="./class_m_bounding_box.html">MBoundingBox</a> spReticleLocDrawOverride::boundingBox( <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath, <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath )<span class="keyword"> const</span></div>
<div class="line"><span class="keyword"></span>{</div>
<div class="line"> <span class="keywordflow">return</span> <a class="code" href="./class_m_bounding_box.html">MBoundingBox</a>(<a class="code" href="./class_m_point.html">MPoint</a>(-1000000,-1000000,-1000000),</div>
<div class="line"> <a class="code" href="./class_m_point.html">MPoint</a>(1000000,1000000,1000000));</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><a name="_a109"></a><a class="code" href="./class_m_user_data.html">MUserData</a>* spReticleLocDrawOverride::prepareForDraw( <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath, <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; cameraPath, <span class="keyword">const</span> <a name="_a110"></a><a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext, <a class="code" href="./class_m_user_data.html">MUserData</a>* oldData )</div>
<div class="line">{</div>
<div class="line"> <a class="code" href="./class_m_status.html">MStatus</a> status;</div>
<div class="line"> </div>
<div class="line"> <span class="comment">//retrieve data cache (create if does not exist)</span></div>
<div class="line">    spReticleLocData* data = <span class="keyword">dynamic_cast&lt;</span>spReticleLocData*<span class="keyword">&gt;</span>(oldData);</div>
<div class="line"> <span class="keywordflow">if</span>(!data) {</div>
<div class="line"></div>
<div class="line">        data = <span class="keyword">new</span> spReticleLocData();</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span>(data == NULL) {</div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(<span class="stringliteral">"Fail to allocate draw data"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> NULL;</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Load defaults</span></div>
<div class="line">        loadDefault = 1;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Set Refresh</span></div>
<div class="line">        needRefresh = <span class="keyword">true</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> <span class="comment">//compute data and cache it</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">//Get the view attributes that impact drawing</span></div>
<div class="line"> <span class="keywordtype">int</span> oX,oy,portWidth,portHeight;</div>
<div class="line">    frameContext.<a name="a111"></a><a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html#a7cd3b2dca6e4f8f4641b587bc642b08e">getViewportDimensions</a>(oX,oy,portWidth,portHeight);</div>
<div class="line"></div>
<div class="line"> <span class="comment">//get DG node for later use</span></div>
<div class="line"> <a class="code" href="./class_m_object.html">MObject</a> spReticleNode = objPath.<a name="a112"></a><a class="code" href="./class_m_dag_path.html#ae024049dad815f2f186e6a4fead8be51">node</a>(&amp;status);</div>
<div class="line"> <a class="code" href="./class_m_fn_dependency_node.html">MFnDependencyNode</a> depNodeFn(spReticleNode, &amp;status );</div>
<div class="line">    spReticleLoc* pSpReticleNode = <span class="keyword">dynamic_cast&lt;</span>spReticleLoc*<span class="keyword">&gt;</span>(depNodeFn.userNode(&amp;status));</div>
<div class="line"> <span class="keywordflow">if</span>(status != <a name="a113"></a><a class="code" href="./class_m_status.html#a02ab596f4febca68da503aaf8dde3a80af0536797208144380691e2b376ffc1d1">MStatus::kSuccess</a> || pSpReticleNode == NULL) {</div>
<div class="line"></div>
<div class="line"> <a class="code" href="./class_m_global.html#a4ddbe97e58a90e1ab05d45a62c006cf0">MGlobal::displayError</a>(<span class="stringliteral">"Fail to get user node"</span>);</div>
<div class="line"> <span class="keywordflow">return</span> data;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">//get draw Data</span></div>
<div class="line">    pSpReticleNode-&gt;getDrawData(*data, cameraPath, portHeight,portWidth);</div>
<div class="line"> </div>
<div class="line"> <span class="keywordflow">return</span> data;</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocDrawOverride::addUIDrawables( <span class="keyword">const</span> <a class="code" href="./class_m_dag_path.html">MDagPath</a>&amp; objPath, <a name="_a114"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager, <span class="keyword">const</span> <a class="code" href="./class_m_h_w_render_1_1_m_frame_context.html">MHWRender::MFrameContext</a>&amp; frameContext, <span class="keyword">const</span> <a class="code" href="./class_m_user_data.html">MUserData</a>* data )</div>
<div class="line">{</div>
<div class="line"> <span class="keyword">const</span> spReticleLocData* reticleData = <span class="keyword">dynamic_cast&lt;</span><span class="keyword">const </span>spReticleLocData*<span class="keyword">&gt;</span>(data);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span>(!reticleData) {</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Drawing not enabled, return</span></div>
<div class="line"> <span class="keywordflow">if</span> (!reticleData-&gt;options.drawingEnabled)</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If camera is orthographic, then return</span></div>
<div class="line"> <span class="keywordflow">if</span> (reticleData-&gt;cameraData.isOrtho) </div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// If camera is not set to use reticle then return</span></div>
<div class="line"> <span class="keywordflow">if</span>(reticleData-&gt;options.useSpRet){</div>
<div class="line"> <span class="keywordflow">if</span> (!reticleData-&gt;useReticle)</div>
<div class="line"> <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">//get cached data                                                                              </span></div>
<div class="line">    Options                     options         = reticleData-&gt;options         ;</div>
<div class="line"> <a class="code" href="./class_m_matrix.html">MMatrix</a>                     wim             = reticleData-&gt;wim             ;</div>
<div class="line"> <span class="keywordtype">int</span>                         numAspectRatios = reticleData-&gt;numAspectRatios ;                                                                                                                                               </div>
<div class="line">    Geom                        portGeom        = reticleData-&gt;portGeom        ;</div>
<div class="line">    std::vector&lt;Aspect_Ratio&gt;   ars             = reticleData-&gt;ars             ;                                                                           </div>
<div class="line">    PadOptions                  pad             = reticleData-&gt;pad             ;</div>
<div class="line">    Filmback                    oFilmback       = reticleData-&gt;oFilmback       ;</div>
<div class="line">    Filmback                    filmback        = reticleData-&gt;filmback        ;</div>
<div class="line">    PanScan                     panScan         = reticleData-&gt;panScan         ;</div>
<div class="line">    std::vector&lt;TextData&gt;       textWhenDraw    = reticleData-&gt;textWhenDraw    ;</div>
<div class="line"> <span class="keywordtype">double</span>                      maximumDist     = reticleData-&gt;maximumDist     ;</div>
<div class="line"></div>
<div class="line"> <span class="comment">//begin drawing 2d HUD</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">//draw mask</span></div>
<div class="line"></div>
<div class="line"> <span class="comment">// create variable to store what the first geometry object to draw aspect ratios to</span></div>
<div class="line">    Geom aspectContainerGeom;</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the padGeomMask</span></div>
<div class="line"> <span class="keywordflow">if</span> (pad.usePad &amp;&amp; pad.isPadded)</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (pad.displayMode == 2)</div>
<div class="line">            drawMask(portGeom, pad.padGeom, pad.padGeom.maskColor, <span class="keyword">true</span>, drawManager);</div>
<div class="line">        aspectContainerGeom = pad.padGeom;</div>
<div class="line">    }</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        aspectContainerGeom = portGeom;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the masks first</span></div>
<div class="line">    Aspect_Ratio ar;</div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numAspectRatios; i++ )</div>
<div class="line">    {</div>
<div class="line">        ar = ars[i];</div>
<div class="line"> <span class="comment">// Draw the masks as Quads</span></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displayMode == 2)</div>
<div class="line">        {</div>
<div class="line">            Geom g = (i == 0)?aspectContainerGeom:ars[i-1].aspectGeom;</div>
<div class="line"> <a class="code" href="./class_m_color.html">MColor</a> maskColor = ar.aspectGeom.maskColor;</div>
<div class="line"> <span class="comment">// Draw the mask in red if over the max distance</span></div>
<div class="line"> <span class="keywordflow">if</span> (options.maximumDistance &gt; 0 &amp;&amp;</div>
<div class="line">                fabs(maximumDist) &gt;= options.maximumDistance)</div>
<div class="line">            {</div>
<div class="line"> <span class="keywordflow">if</span> (i == 0)</div>
<div class="line">                {</div>
<div class="line">                    maskColor = <a class="code" href="./class_m_color.html">MColor</a>(1,0,0,maskColor.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a>);</div>
<div class="line">                }</div>
<div class="line"> <span class="keywordflow">else</span></div>
<div class="line">                {</div>
<div class="line">                    maskColor *= <a class="code" href="./class_m_color.html">MColor</a>(1.5,0.5,0.5,1);</div>
<div class="line">                }</div>
<div class="line">            }</div>
<div class="line">            drawMask(g, ar.aspectGeom, maskColor, i == 0, drawManager);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw lines</span></div>
<div class="line"> <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; numAspectRatios; i++ )</div>
<div class="line">    {</div>
<div class="line">        ar = ars[i];</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displayMode != 0)</div>
<div class="line">        {</div>
<div class="line"> <span class="keywordtype">bool</span> sides = (i == 0 || ar.aspectGeom.x != ars[i].aspectGeom.x);</div>
<div class="line">            drawLines(ar.aspectGeom, ar.aspectGeom.lineColor, sides, 0, drawManager);</div>
<div class="line"> <span class="comment">// Draw safe action</span></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displaySafeAction)</div>
<div class="line">                drawLines( ar.safeActionGeom, ar.safeActionGeom.lineColor, 1, 1, drawManager);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw safe title</span></div>
<div class="line"> <span class="keywordflow">if</span> (ar.displaySafeTitle)</div>
<div class="line">                drawLines( ar.safeTitleGeom, ar.safeTitleGeom.lineColor, 1, 1, drawManager);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the panScan</span></div>
<div class="line"> <span class="keywordflow">if</span> ( panScan.displayMode != 0 )</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordflow">if</span> (panScan.displayMode == 2){</div>
<div class="line">            drawMask(ars[0].aspectGeom, panScan.aspectGeom, panScan.aspectGeom.maskColor, <span class="keyword">true</span>, drawManager);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line">        drawLines(panScan.aspectGeom, panScan.aspectGeom.lineColor, 1, 0,drawManager);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw safe action</span></div>
<div class="line"> <span class="keywordflow">if</span> (panScan.displaySafeAction)</div>
<div class="line">        {</div>
<div class="line">            drawLines( panScan.safeActionGeom, panScan.safeActionGeom.lineColor, 1, 1,drawManager);</div>
<div class="line">        }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw safe title</span></div>
<div class="line"> <span class="keywordflow">if</span> (panScan.displaySafeTitle)</div>
<div class="line">        {</div>
<div class="line">            drawLines( panScan.safeTitleGeom, panScan.safeTitleGeom.lineColor, 1, 1,drawManager);</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the filmback</span></div>
<div class="line"> <span class="keywordflow">if</span> ( filmback.displayFilmGate )</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Draw filmback</span></div>
<div class="line">        drawLines(filmback.filmbackGeom, filmback.filmbackGeom.lineColor, 1, 0,drawManager);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw Sound Area Line</span></div>
<div class="line"> <span class="keywordflow">if</span> ( filmback.soundTrackWidth != 0 )</div>
<div class="line">            drawLine(filmback.imageGeom.x1, filmback.imageGeom.x1, filmback.imageGeom.y1, filmback.imageGeom.y2, filmback.imageGeom.lineColor, 0,drawManager);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw filmback safe action</span></div>
<div class="line"> <span class="keywordflow">if</span> (filmback.displaySafeAction)</div>
<div class="line">    {</div>
<div class="line">        drawLines( filmback.safeActionGeom, filmback.safeActionGeom.lineColor, 1, 1, drawManager);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw filmback safe title</span></div>
<div class="line"> <span class="keywordflow">if</span> (filmback.displaySafeTitle)</div>
<div class="line">    {</div>
<div class="line">        drawLines( filmback.safeTitleGeom, filmback.safeTitleGeom.lineColor, 1, 1,drawManager);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw the projection gate</span></div>
<div class="line"> <span class="keywordflow">if</span> ( filmback.displayProjGate )</div>
<div class="line">    {</div>
<div class="line">        drawLines(filmback.projGeom, filmback.projGeom.lineColor, 1, 1,drawManager);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display horizontal line</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.displayLineH )</div>
<div class="line">    {</div>
<div class="line">        drawLine( filmback.imageGeom.x1, filmback.imageGeom.x2, portGeom.y, portGeom.y, options.lineColor, 0,drawManager );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display vertical line</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.displayLineV )</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">double</span> cx = ( filmback.imageGeom.x1 + filmback.imageGeom.x2 ) / 2;</div>
<div class="line">        drawLine( cx, cx, filmback.imageGeom.y1, filmback.imageGeom.y2, options.lineColor, 0, drawManager );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display Horizontal Thirds</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.displayThirdsH)</div>
<div class="line">    {</div>
<div class="line">        Geom g = (numAspectRatios &gt; 0)?ars[0].aspectGeom:portGeom;</div>
<div class="line"> <span class="keywordtype">double</span> y1 = g.y1+ ( ( g.y2 - g.y1 ) * 0.33 );</div>
<div class="line"> <span class="keywordtype">double</span> y2 = g.y1+ ( ( g.y2 - g.y1 ) * 0.66 );</div>
<div class="line">        drawLine( g.x1, g.x2, y1, y1, options.lineColor, 0, drawManager);</div>
<div class="line">        drawLine( g.x1, g.x2, y2, y2, options.lineColor, 0, drawManager);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display Vertical Thirds</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.displayThirdsV)</div>
<div class="line">    {</div>
<div class="line">        Geom g = (numAspectRatios &gt; 0)?ars[0].aspectGeom:portGeom;</div>
<div class="line"> <span class="keywordtype">double</span> x1 = g.x1+ ( ( g.x2 - g.x1 ) * 0.33 );</div>
<div class="line"> <span class="keywordtype">double</span> x2 = g.x1+ ( ( g.x2 - g.x1 ) * 0.66 );</div>
<div class="line">        drawLine( x1, x1, g.y1, g.y2, options.lineColor, 0, drawManager);</div>
<div class="line">        drawLine( x2, x2, g.y1, g.y2, options.lineColor, 0, drawManager);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display crosshair</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.displayCrosshair )</div>
<div class="line">    {</div>
<div class="line"> <span class="keywordtype">double</span> cx = ( filmback.imageGeom.x1 + filmback.imageGeom.x2 ) / 2;</div>
<div class="line">        drawLine( cx-25, cx-5, portGeom.y, portGeom.y, options.lineColor, 0, drawManager );</div>
<div class="line">        drawLine( cx+25, cx+5, portGeom.y, portGeom.y, options.lineColor, 0, drawManager );</div>
<div class="line">        drawLine( cx, cx, portGeom.y-25, portGeom.y-5, options.lineColor, 0, drawManager );</div>
<div class="line">        drawLine( cx, cx, portGeom.y+25, portGeom.y+5, options.lineColor, 0, drawManager );</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Display the pad area</span></div>
<div class="line"> <span class="keywordflow">if</span> (pad.usePad &amp;&amp; pad.isPadded &amp;&amp; pad.displayMode &gt; 0)</div>
<div class="line">    {</div>
<div class="line">        drawLines(pad.padGeom, pad.padGeom.lineColor, 1, 0, drawManager);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Draw custom text elements</span></div>
<div class="line"> <span class="keywordflow">if</span> ( options.enableTextDrawing){</div>
<div class="line">        drawCustomTextElements(textWhenDraw, drawManager);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocDrawOverride::drawMask( Geom g1, Geom g2, <a class="code" href="./class_m_color.html">MColor</a> color, <span class="keywordtype">bool</span> sides, <a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager )</div>
<div class="line">{</div>
<div class="line">    drawManager.<a name="a115"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9008ebfa63c02670625076230d77c3f9">beginDrawable</a>();</div>
<div class="line"></div>
<div class="line">    drawManager.<a name="a116"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9baede3e37abe9551e50a8c6be65ec4d">setColor</a>(<a class="code" href="./class_m_color.html">MColor</a>(color.<a class="code" href="./class_m_color.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>, color.<a class="code" href="./class_m_color.html#a8cf17d727651616de6f2b79ef32170cd">g</a>, color.<a class="code" href="./class_m_color.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>, 1 - color.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a>));</div>
<div class="line"></div>
<div class="line"> <a name="_a117"></a><a class="code" href="./class_m_uint_array.html">MUintArray</a> index;</div>
<div class="line">    index.<a name="a118"></a><a class="code" href="./class_m_uint_array.html#a29ccefc020c96f15e099924ebe83eb07">append</a>(0);</div>
<div class="line">    index.<a class="code" href="./class_m_uint_array.html#a29ccefc020c96f15e099924ebe83eb07">append</a>(1);</div>
<div class="line">    index.<a class="code" href="./class_m_uint_array.html#a29ccefc020c96f15e099924ebe83eb07">append</a>(3);</div>
<div class="line">    index.<a class="code" href="./class_m_uint_array.html#a29ccefc020c96f15e099924ebe83eb07">append</a>(2);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Bottom Mask</span></div>
<div class="line"> <a name="_a119"></a><a class="code" href="./class_m_point_array.html">MPointArray</a> bottomMask;</div>
<div class="line">    bottomMask.<a name="a120"></a><a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g1.x1, g1.y1, 0.0));</div>
<div class="line">    bottomMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g1.x2, g1.y1, 0.0));</div>
<div class="line">    bottomMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g2.x2, g2.y1, 0.0));</div>
<div class="line">    bottomMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g2.x1, g2.y1, 0.0));</div>
<div class="line">    drawManager.<a name="a121"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa127509a93d1a099c9c027a80693a0a3">mesh2d</a>(<a name="a122"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1ea9dbc1af67333f4841507b5d6568937c1">MHWRender::MUIDrawManager::kTriStrip</a>,bottomMask,NULL,&amp;index);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// Top Mask</span></div>
<div class="line"> <a class="code" href="./class_m_point_array.html">MPointArray</a> topMask;</div>
<div class="line">    topMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g2.x1, g2.y2, 0.0));</div>
<div class="line">    topMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g2.x2, g2.y2, 0.0));</div>
<div class="line">    topMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g1.x2, g1.y2, 0.0));</div>
<div class="line">    topMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g1.x1, g1.y2, 0.0));</div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa127509a93d1a099c9c027a80693a0a3">mesh2d</a>(<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1ea9dbc1af67333f4841507b5d6568937c1">MHWRender::MUIDrawManager::kTriStrip</a>,topMask,NULL,&amp;index);</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span> (sides)</div>
<div class="line">    {</div>
<div class="line"> <span class="comment">// Left side mask</span></div>
<div class="line"> <a class="code" href="./class_m_point_array.html">MPointArray</a> leftMask;</div>
<div class="line">        leftMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g1.x1, g1.y1, 0.0));</div>
<div class="line">        leftMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g2.x1, g2.y1, 0.0));</div>
<div class="line">        leftMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g2.x1, g2.y2, 0.0));</div>
<div class="line">        leftMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g1.x1, g1.y2, 0.0));</div>
<div class="line">        drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa127509a93d1a099c9c027a80693a0a3">mesh2d</a>(<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1ea9dbc1af67333f4841507b5d6568937c1">MHWRender::MUIDrawManager::kTriStrip</a>,leftMask,NULL,&amp;index);</div>
<div class="line"></div>
<div class="line"> <span class="comment">// right side mask</span></div>
<div class="line"> <a class="code" href="./class_m_point_array.html">MPointArray</a> rightMask;</div>
<div class="line">        rightMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g2.x2, g2.y1, 0.0));</div>
<div class="line">        rightMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g1.x2, g1.y1, 0.0));</div>
<div class="line">        rightMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g2.x2, g2.y2, 0.0));</div>
<div class="line">        rightMask.<a class="code" href="./class_m_point_array.html#abe5a9fe36b4651af38a4a26c85f46e1a">append</a>(<a class="code" href="./class_m_point.html">MPoint</a>( g1.x2, g1.y2, 0.0));</div>
<div class="line">        drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa127509a93d1a099c9c027a80693a0a3">mesh2d</a>(<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a08260379b97fd733e30ea92e891ede1ea9dbc1af67333f4841507b5d6568937c1">MHWRender::MUIDrawManager::kTriStrip</a>,rightMask,NULL,&amp;index);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    drawManager.<a name="a123"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a78c343c25a05be7e46dd4b7ebab82ff6">endDrawable</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocDrawOverride::drawLine( <span class="keywordtype">double</span> x1, <span class="keywordtype">double</span> x2, <span class="keywordtype">double</span> y1, <span class="keywordtype">double</span> y2, <a class="code" href="./class_m_color.html">MColor</a> color, <span class="keywordtype">bool</span> stipple, <a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager )</div>
<div class="line">{</div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9008ebfa63c02670625076230d77c3f9">beginDrawable</a>();</div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9baede3e37abe9551e50a8c6be65ec4d">setColor</a>(<a class="code" href="./class_m_color.html">MColor</a>(color.<a class="code" href="./class_m_color.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>,color.<a class="code" href="./class_m_color.html#a8cf17d727651616de6f2b79ef32170cd">g</a>,color.<a class="code" href="./class_m_color.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>,1-color.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a>));</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span>(stipple) {</div>
<div class="line">        drawManager.<a name="a124"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a57efb160d7a519a9c2bf1c8881475d62">setLineStyle</a>(2,0x00FF);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    drawManager.<a name="a125"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#af33c923bf446e1ba89b3c933edac8d96">line2d</a>(<a class="code" href="./class_m_point.html">MPoint</a>(x1,y1),<a class="code" href="./class_m_point.html">MPoint</a>(x2,y2));</div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a78c343c25a05be7e46dd4b7ebab82ff6">endDrawable</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocDrawOverride::drawLines( Geom g, <a class="code" href="./class_m_color.html">MColor</a> color, <span class="keywordtype">bool</span> sides, <span class="keywordtype">bool</span> stipple, <a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager )</div>
<div class="line">{</div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9008ebfa63c02670625076230d77c3f9">beginDrawable</a>();</div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9baede3e37abe9551e50a8c6be65ec4d">setColor</a>(<a class="code" href="./class_m_color.html">MColor</a>(color.<a class="code" href="./class_m_color.html#a4788d82c901b9367dd5c0daff8a7616b">r</a>,color.<a class="code" href="./class_m_color.html#a8cf17d727651616de6f2b79ef32170cd">g</a>,color.<a class="code" href="./class_m_color.html#a83fc1af92e29717b4513d121b0c72c7d">b</a>,1-color.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a>));</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span>(stipple) {</div>
<div class="line">        drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a57efb160d7a519a9c2bf1c8881475d62">setLineStyle</a>(2,0x00FF);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"> <span class="keywordflow">if</span>(sides) {</div>
<div class="line">        drawManager.<a name="a126"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a340ae8793e0c22b2db31cb37a5aba98d">rect2d</a>(<a class="code" href="./class_m_point.html">MPoint</a> ((g.x1 + g.x2)/2, (g.y1 + g.y2)/2),</div>
<div class="line"> <a class="code" href="./class_m_vector.html">MVector</a>(0.0,1.0),</div>
<div class="line">                            fabs(g.x1-g.x2)/2,fabs(g.y1-g.y2)/2);</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#af33c923bf446e1ba89b3c933edac8d96">line2d</a>(<a class="code" href="./class_m_point.html">MPoint</a>(g.x1,g.y1),<a class="code" href="./class_m_point.html">MPoint</a>(g.x2,g.y1));</div>
<div class="line">        drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#af33c923bf446e1ba89b3c933edac8d96">line2d</a>(<a class="code" href="./class_m_point.html">MPoint</a>(g.x2,g.y2),<a class="code" href="./class_m_point.html">MPoint</a>(g.x1,g.y2));</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a78c343c25a05be7e46dd4b7ebab82ff6">endDrawable</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocDrawOverride::drawText( <a class="code" href="./class_m_string.html">MString</a> text, <span class="keywordtype">double</span> tx, <span class="keywordtype">double</span> ty, <a class="code" href="./class_m_color.html">MColor</a> color, <a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa56f1a82069b5feeadbb4591cb3e474f">MHWRender::MUIDrawManager::TextAlignment</a> textAlignment, <a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager )</div>
<div class="line">{</div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9008ebfa63c02670625076230d77c3f9">beginDrawable</a>();</div>
<div class="line"> </div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a9baede3e37abe9551e50a8c6be65ec4d">setColor</a>(color);</div>
<div class="line">    drawManager.<a name="a127"></a><a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#ab745185859d1eda9a0af543f35931821">text2d</a>(<a class="code" href="./class_m_point.html">MPoint</a>(tx,ty),text,textAlignment);</div>
<div class="line"></div>
<div class="line">    drawManager.<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#a78c343c25a05be7e46dd4b7ebab82ff6">endDrawable</a>();</div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> spReticleLocDrawOverride::drawCustomTextElements( std::vector&lt;TextData&gt; textWhenDraw, <a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html">MHWRender::MUIDrawManager</a>&amp; drawManager )</div>
<div class="line">{</div>
<div class="line"> <span class="keywordflow">for</span>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; textWhenDraw.size(); ++i) {</div>
<div class="line">        TextData td = textWhenDraw[i];</div>
<div class="line"> <a class="code" href="./class_m_color.html">MColor</a> color = td.textColor;</div>
<div class="line">        color.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a> = 1.0f - color.<a class="code" href="./class_m_color.html#a4aec1a5be9d9a4a394a2e49e9744286e">a</a>;       <span class="comment">// Align to VP1 behavior</span></div>
<div class="line">        drawText( td.textStr, td.textPosX, td.textPosY, color, (<a class="code" href="./class_m_h_w_render_1_1_m_u_i_draw_manager.html#aa56f1a82069b5feeadbb4591cb3e474f">MHWRender::MUIDrawManager::TextAlignment</a>)td.textAlign, drawManager);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<div class="footer-block"><a class="comments-anchor" href="../html/ac.cmtdialog.htm" target="_blank"><span class="comments-link">Please send us your comment about this page</span></a></div></div>
</div></body>
</html>
